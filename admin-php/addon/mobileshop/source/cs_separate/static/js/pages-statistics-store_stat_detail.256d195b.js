(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-statistics-store_stat_detail"],{"23d8":function(e,t,i){var a=i("e29e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("595182c4",a,!0,{sourceMap:!1,shadowMode:!1})},"80ad":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var a={loadingCover:i("200a").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"withdrawal"},[i("v-uni-view",{staticClass:"head-wrap"},[i("v-uni-view",{staticClass:"title"},[e._v("筛选日期")]),i("v-uni-picker",{attrs:{value:e.pickerCurr,range:e.picker,"range-key":"date_text"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"select color-tip"},[e._v(e._s(e.picker[e.pickerCurr].date_text)),i("v-uni-text",{staticClass:"iconfont iconiconangledown"})],1)],1)],1),i("v-uni-view",{staticClass:"chart-wrap"},[i("uCharts",{ref:"ucharts",attrs:{scroll:!0,show:!0,canvasId:e.field,chartType:"area",extraType:"curve",cWidth:e.cWidth,cHeight:e.cHeight,opts:e.opts}})],1),e.opts.categories?i("v-uni-view",{staticClass:"list-wrap"},[i("v-uni-view",{staticClass:"list-item"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s("oneday"==e.picker[e.pickerCurr].type?"时间":"日期"))]),i("v-uni-view",{staticClass:"value"},[e._v(e._s(e.title))])],1),e._l(e.opts.categories,(function(t,a){return i("v-uni-view",{key:a,staticClass:"list-item"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s(t))]),i("v-uni-view",{staticClass:"value"},[e._v(e._s(e.opts.series[0].data[a]))])],1)}))],2):e._e(),i("loading-cover",{ref:"loadingCover"})],1)},s=[]},a3bf:function(e,t,i){"use strict";var a=i("23d8"),r=i.n(a);r.a},b65b:function(e,t,i){"use strict";i.r(t);var a=i("bb9c"),r=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=r.a},bb9c:function(e,t,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("e25e");var r=a(i("c298")),s={yAxisdisabled:!0,xAxisgridColor:"transparent",yAxisgridType:"dash",yAxisgridColor:"#eeeeee",animation:!0,enableScroll:!0,scrollColor:"transparent",scrollBackgroundColor:"transparent",scrollPosition:"right",extra:{area:{addLine:!0,opacity:.5,width:2,type:"curve"}},legend:!1},n={components:{uCharts:r.default},data:function(){return{picker:[{date_type:0,date_text:"今日实时",type:"oneday"},{date_type:-1,date_text:"昨日",type:"oneday"},{date_type:1,date_text:"近7天",type:"manydays"},{date_type:2,date_text:"近30天",type:"manydays"}],pickerCurr:0,statTotal:{},field:"",title:"",opts:{},cWidth:0,cHeight:0,storeId:0}},onLoad:function(e){this.pickerCurr=e.curr||0,this.storeId=e.store_id||0,this.field=e.field,this.title=e.title,uni.setNavigationBarTitle({title:e.title}),this.pickerChange({detail:{value:this.pickerCurr}}),this.cWidth=uni.upx2px(680),this.cHeight=uni.upx2px(500)},methods:{getStatData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$api.sendRequest({url:"/store/shopapi/stat/getstatdata",data:t,success:function(t){if(t.code>=0){var i={categories:t.data.time,series:[{name:e.title,data:t.data[e.field],color:"#FF6A00",time:t.data.time}]};e.opts=Object.assign(e.$util.deepClone(i),s,{unit:"元"}),e.$refs.ucharts.changeData(e.field,i)}e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},getStatHourData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$api.sendRequest({url:"/store/shopapi/stat/getstathourdata",data:t,success:function(t){if(t.code>=0){var i={categories:t.data.time,series:[{name:e.title,data:t.data[e.field],color:"#FF6A00",time:t.data.time}]};e.opts=Object.assign(e.$util.deepClone(i),s,{unit:"元"}),e.$refs.ucharts.changeData(e.field,i)}e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},pickerChange:function(e){this.pickerCurr=e.detail.value;var t={store_id:this.storeId};switch(this.picker[this.pickerCurr].date_type){case-1:t.start_time=this.getTime(-1).startTime,t.end_time=this.getTime(-1).endTime;break;case 1:t.start_time=this.getTime(-7).startTime,t.end_time=this.getTime(0).endTime;break;case 2:t.start_time=this.getTime(-30).startTime,t.end_time=this.getTime(0).endTime;break}"oneday"==this.picker[this.pickerCurr].type?this.getStatHourData(t):this.getStatData(t)},getTime:function(e){var t=new Date(new Date((new Date).toLocaleDateString()));t.setDate(t.getDate()+e);var i=parseInt(new Date(t).getTime()/1e3),a=i+86399;return{startTime:i,endTime:a}}}};t.default=n},c261:function(e,t,i){"use strict";i.r(t);var a=i("80ad"),r=i("b65b");for(var s in r)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(s);i("a3bf");var n=i("f0c5"),o=Object(n["a"])(r["default"],a["b"],a["c"],!1,null,"24330eee",null,!1,a["a"],void 0);t["default"]=o.exports},e29e:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-line-hide[data-v-24330eee]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.uni-using-hide[data-v-24330eee]{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap}.prevent-head-roll[data-v-24330eee]{position:fixed;left:0;right:0;z-index:998}.head-wrap[data-v-24330eee]{display:flex;align-items:center;height:%?90?%;background-color:#fff;padding:0 %?30?%;margin-bottom:%?20?%}.head-wrap .title[data-v-24330eee]{flex:1;width:0}.chart-wrap[data-v-24330eee]{padding:%?30?%;background:#fff;margin-bottom:%?20?%}.list-wrap[data-v-24330eee]{background:#fff;margin-bottom:%?20?%;padding:%?30?%}.list-wrap .list-item[data-v-24330eee]{display:flex;align-content:center}.list-wrap .list-item uni-view[data-v-24330eee]{height:%?70?%;line-height:%?70?%;flex:1;text-align:center;font-size:%?26?%}.list-wrap .list-item[data-v-24330eee]:nth-child(even){background-color:rgba(255,106,0,.1)}.list-wrap .list-item[data-v-24330eee]:first-child{background-color:#fff;height:%?80?%;line-height:%?80?%}',""]),e.exports=t}}]);