(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-statistics-transaction_detail"],{"0708":function(t,e,a){"use strict";a.r(e);var i=a("8a9b"),r=a("cca7");for(var s in r)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(s);a("dfc3");var n=a("828b"),d=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"5add9796",null,!1,i["a"],void 0);e["default"]=d.exports},"0bf0":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e966");var r=i(a("3b29")),s={yAxisdisabled:!0,xAxisgridColor:"transparent",yAxisgridType:"dash",yAxisgridColor:"#eeeeee",animation:!0,enableScroll:!0,scrollColor:"transparent",scrollBackgroundColor:"transparent",scrollPosition:"right",extra:{area:{addLine:!0,opacity:.5,width:2,type:"curve"}},legend:!1},n={components:{uCharts:r.default},data:function(){return{picker:[{date_type:0,date_text:"今日实时",type:"oneday"},{date_type:-1,date_text:"昨日",type:"oneday"},{date_type:1,date_text:"近7天",type:"manydays"},{date_type:2,date_text:"近30天",type:"manydays"}],pickerCurr:0,statTotal:{},field:"",title:"",opts:{},cWidth:0,cHeight:0}},onLoad:function(t){this.pickerCurr=t.curr||0,this.field=t.field,this.title=t.title,uni.setNavigationBarTitle({title:t.title}),this.pickerChange({detail:{value:this.pickerCurr}}),this.cWidth=uni.upx2px(680),this.cHeight=uni.upx2px(500)},methods:{getStatData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$api.sendRequest({url:"/shopapi/statistics/getstatdata",data:e,success:function(e){if(e.code>=0){var a={categories:e.data.time,series:[{name:t.title,data:e.data[t.field],color:"#FF6A00",time:e.data.time}]};t.opts=Object.assign(t.$util.deepClone(a),s,{unit:"元"}),t.$refs.ucharts.changeData(t.field,a)}t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},getStatHourData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$api.sendRequest({url:"/shopapi/statistics/getstathourdata",data:e,success:function(e){if(e.code>=0){var a={categories:e.data.time,series:[{name:t.title,data:e.data[t.field],color:"#FF6A00",time:e.data.time}]};t.opts=Object.assign(t.$util.deepClone(a),s,{unit:"元"}),t.$refs.ucharts.changeData(t.field,a)}t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},pickerChange:function(t){this.pickerCurr=t.detail.value;var e={};switch(this.picker[this.pickerCurr].date_type){case-1:e.start_time=this.getTime(-1).startTime,e.end_time=this.getTime(-1).endTime;break;case 1:e.start_time=this.getTime(-7).startTime,e.end_time=this.getTime(0).endTime;break;case 2:e.start_time=this.getTime(-30).startTime,e.end_time=this.getTime(0).endTime;break}"oneday"==this.picker[this.pickerCurr].type?this.getStatHourData(e):this.getStatData(e)},getTime:function(t){var e=new Date(new Date((new Date).toLocaleDateString()));e.setDate(e.getDate()+t);var a=parseInt(new Date(e).getTime()/1e3),i=a+86399;return{startTime:a,endTime:i}}}};e.default=n},"2d9f":function(t,e,a){var i=a("ba8a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("967d").default;r("184a2f0a",i,!0,{sourceMap:!1,shadowMode:!1})},"8a9b":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={loadingCover:a("f159").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"withdrawal"},[a("v-uni-view",{staticClass:"head-wrap"},[a("v-uni-view",{staticClass:"title"},[t._v("筛选日期")]),a("v-uni-picker",{attrs:{value:t.pickerCurr,range:t.picker,"range-key":"date_text"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"select color-tip"},[t._v(t._s(t.picker[t.pickerCurr].date_text)),a("v-uni-text",{staticClass:"iconfont iconiconangledown"})],1)],1)],1),a("v-uni-view",{staticClass:"chart-wrap"},[a("uCharts",{ref:"ucharts",attrs:{scroll:!0,show:!0,canvasId:t.field,chartType:"area",extraType:"curve",cWidth:t.cWidth,cHeight:t.cHeight,opts:t.opts}})],1),t.opts.categories?a("v-uni-view",{staticClass:"list-wrap"},[a("v-uni-view",{staticClass:"list-item"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s("oneday"==t.picker[t.pickerCurr].type?"时间":"日期"))]),a("v-uni-view",{staticClass:"value"},[t._v(t._s(t.title))])],1),t._l(t.opts.categories,(function(e,i){return a("v-uni-view",{key:i,staticClass:"list-item"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(e))]),a("v-uni-view",{staticClass:"value"},[t._v(t._s(t.opts.series[0].data[i]))])],1)}))],2):t._e(),a("loading-cover",{ref:"loadingCover"})],1)},s=[]},ba8a:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-line-hide[data-v-5add9796]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.uni-using-hide[data-v-5add9796]{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap}.prevent-head-roll[data-v-5add9796]{position:fixed;left:0;right:0;z-index:998}.head-wrap[data-v-5add9796]{display:flex;align-items:center;height:%?90?%;background-color:#fff;padding:0 %?30?%;margin-bottom:%?20?%}.head-wrap .title[data-v-5add9796]{flex:1;width:0}.chart-wrap[data-v-5add9796]{padding:%?30?%;background:#fff;margin-bottom:%?20?%}.list-wrap[data-v-5add9796]{background:#fff;margin-bottom:%?20?%;padding:%?30?%}.list-wrap .list-item[data-v-5add9796]{display:flex;align-content:center}.list-wrap .list-item uni-view[data-v-5add9796]{height:%?70?%;line-height:%?70?%;flex:1;text-align:center;font-size:%?26?%}.list-wrap .list-item[data-v-5add9796]:nth-child(even){background-color:rgba(255,106,0,.1)}.list-wrap .list-item[data-v-5add9796]:first-child{background-color:#fff;height:%?80?%;line-height:%?80?%}',""]),t.exports=e},cca7:function(t,e,a){"use strict";a.r(e);var i=a("0bf0"),r=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=r.a},dfc3:function(t,e,a){"use strict";var i=a("2d9f"),r=a.n(i);r.a}}]);