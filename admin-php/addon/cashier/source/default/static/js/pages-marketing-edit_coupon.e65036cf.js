(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-marketing-edit_coupon","pages-stock-edit_allocate~pages-stock-edit_check~pages-stock-stockin~pages-stock-stockout"],{"00b7":function(t,e,a){"use strict";a.r(e);var i=a("9505"),o=a("f1b1");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("797d");var s=a("828b"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"0869d699",null,!1,i["a"],void 0);e["default"]=c.exports},"050a":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-app--showleftwindow + .uni-tabbar-bottom[data-v-50b820f6]{display:none}\r\n/* 收银台相关 */uni-text[data-v-50b820f6],\r\nuni-view[data-v-50b820f6]{font-size:.14rem}body[data-v-50b820f6]{min-width:1200px;overflow-x:unset!important;overflow-y:hidden;background:#f8f8f8}body[data-v-50b820f6]::-webkit-scrollbar{width:.06rem;height:.06rem}body[data-v-50b820f6]::-webkit-scrollbar-button{display:none}body[data-v-50b820f6]::-webkit-scrollbar-thumb{border-radius:.06rem;box-shadow:inset 0 0 .06rem rgba(45,43,43,.45);background-color:#ddd}body[data-v-50b820f6]::-webkit-scrollbar-track{background-color:initial}uni-radio[data-v-50b820f6]{-webkit-transform:scale(.8);transform:scale(.8)}uni-checkbox[data-v-50b820f6]{-webkit-transform:scale(.8);transform:scale(.8)}uni-modal .uni-modal__btn_primary[data-v-50b820f6]{color:var(--primary-color)!important}.stock-dialog-wrap[data-v-50b820f6]{background-color:#fff;border-radius:.05rem;width:9rem}.stock-dialog-wrap .stock-dialog-head[data-v-50b820f6]{padding:0 .15rem;display:flex;align-items:center;justify-content:space-between;font-size:.15rem;height:.45rem;border-bottom:.01rem solid #e8eaec}.stock-dialog-wrap .stock-dialog-head .iconguanbi1[data-v-50b820f6]{font-size:.16rem}.stock-dialog-wrap .stock-dialog-body[data-v-50b820f6]{width:100%;height:7.3rem;padding:.1rem .2rem 0 .2rem;box-sizing:border-box;display:flex}.stock-dialog-wrap .stock-dialog-body .tree[data-v-50b820f6]{width:1.8rem;height:7.1rem;overflow-y:auto;border-right:.01rem solid #e8eaec;flex-shrink:0;flex-basis:auto;flex-grow:0;box-sizing:border-box}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap[data-v-50b820f6]{width:100%;height:100%}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap > uni-view[data-v-50b820f6]{box-sizing:border-box;width:100%}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap uni-view.item[data-v-50b820f6]{display:flex;align-items:center;width:100%;box-sizing:border-box;line-height:.3rem;min-height:.3rem;font-weight:500}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap uni-view.item.active[data-v-50b820f6]{background-color:#f7f7f7}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap uni-view.item.active .icon[data-v-50b820f6],\r\n.stock-dialog-wrap .stock-dialog-body .tree .list-wrap uni-view.item.active uni-view[data-v-50b820f6]{color:var(--primary-color)!important}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap uni-view.item[data-v-50b820f6]:hover{background-color:#f7f7f7}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap uni-view.item .icon[data-v-50b820f6]{width:.2rem;height:.3rem;display:flex;align-items:center;justify-content:center;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);transition:all ease .5s}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap uni-view.item .icon.active[data-v-50b820f6]{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap .level[data-v-50b820f6]{width:100%;box-sizing:border-box}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap .level .item[data-v-50b820f6]{padding-left:.2rem}.stock-dialog-wrap .stock-dialog-body .tree .list-wrap .level .item2[data-v-50b820f6]{padding-left:.4rem}.stock-dialog-wrap .stock-dialog-body .stock-dialog-table[data-v-50b820f6]{width:6.6rem;margin-left:.2rem}.stock-dialog-wrap .stock-dialog-body .stock-dialog-table .search[data-v-50b820f6]{display:flex;justify-content:flex-end}.stock-dialog-wrap .btn[data-v-50b820f6]{display:flex;justify-content:flex-end;border-top:.01rem solid #e8eaec;padding:.1rem .2rem .1rem .2rem;height:.38rem}.stock-dialog-wrap .btn .default-btn[data-v-50b820f6],\r\n.stock-dialog-wrap .btn .primary-btn[data-v-50b820f6]{margin:0}.stock-dialog-wrap .btn .default-btn[data-v-50b820f6]{border:.01rem solid #e8eaec!important}.stock-dialog-wrap .btn .submit[data-v-50b820f6]{margin-right:.15rem}.stock-dialog-wrap .btn .default-btn[data-v-50b820f6]::after{display:none}.stock-dialog-wrap .common-form .common-btn-wrap[data-v-50b820f6]{margin-left:0}.stock-dialog-wrap .common-form .common-btn-wrap .screen-btn[data-v-50b820f6]{margin-right:0}.stock-dialog-wrap .common-form .common-form-item[data-v-50b820f6]{margin-bottom:.1rem}.stock-dialog-wrap[data-v-50b820f6] .goods-content{display:flex}.stock-dialog-wrap[data-v-50b820f6] .goods-content .goods-img{margin-right:.1rem;width:.5rem;height:.5rem;flex-shrink:0;flex-basis:auto;flex-grow:0}',""]),t.exports=e},"09fc":function(t,e,a){"use strict";a.r(e);var i=a("7df81"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"0ee5":function(t,e,a){"use strict";var i=a("a20d"),o=a.n(i);o.a},2596:function(t,e,a){"use strict";a.r(e);var i=a("cbe5"),o=a("09fc");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("5c7e");var s=a("828b"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"0726a53f",null,!1,i["a"],void 0);e["default"]=c.exports},"2e39":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("unipopup",{ref:"dialogRef",attrs:{type:"center",maskClick:!1}},[a("v-uni-view",{staticClass:"stock-dialog-wrap"},[a("v-uni-view",{staticClass:"stock-dialog-head"},[a("v-uni-text",[t._v("商品选择")]),a("v-uni-text",{staticClass:"iconfont iconguanbi1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("change",!1)}}})],1),a("v-uni-view",{staticClass:"stock-dialog-body"},[a("v-uni-view",{staticClass:"tree"},[a("v-uni-scroll-view",{staticClass:"list-wrap",attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"item",class:{active:""===t.option.category_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.itemClick({category_id:"",child_num:0})}}},[a("v-uni-view",{staticClass:"icon"}),a("v-uni-view",[t._v("全部分类")])],1),t._l(t.goodsCategoryList,(function(e,i){return a("v-uni-view",{key:i},[a("v-uni-view",{staticClass:"item",class:{active:t.option.category_id===e.category_id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.itemClick(e)}}},[a("v-uni-view",{staticClass:"icon",class:{active:-1!=t.activeList.indexOf(e.category_id)}},[e.child_num?a("v-uni-text",{staticClass:"iconfont iconsanjiao_xia"}):t._e()],1),a("v-uni-view",[t._v(t._s(e.title))])],1),e.child_num?t._l(e.children,(function(i,o){return a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:-1!=t.activeList.indexOf(e.category_id),expression:"activeList.indexOf(item.category_id) != -1"}],key:o,staticClass:"level"},[a("v-uni-view",{staticClass:"item",class:{active:t.option.category_id===i.category_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.itemClick(i)}}},[a("v-uni-view",{staticClass:"icon",class:{active:-1!=t.activeList.indexOf(i.category_id)}},[i.child_num?a("v-uni-text",{staticClass:"iconfont iconsanjiao_xia"}):t._e()],1),a("v-uni-view",[t._v(t._s(i.title))])],1),t._l(i.children,(function(e,o){return a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:-1!=t.activeList.indexOf(i.category_id),expression:"activeList.indexOf(item2.category_id) != -1"}],key:o,staticClass:"level"},[a("v-uni-view",{staticClass:"item item2",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.itemClick(e)}}},[a("v-uni-view",{staticClass:"icon"}),a("v-uni-view",[t._v(t._s(e.title))])],1)],1)}))],2)})):t._e()],2)}))],2)],1),a("v-uni-view",{staticClass:"stock-dialog-table"},[a("v-uni-view",{staticClass:"search  common-form"},[a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-view",{staticClass:"form-inline"},[a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"text",placeholder:"请输入产品名称/规格/编码"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.getStoreGoods.apply(void 0,arguments)}},model:{value:t.option.search_text,callback:function(e){t.$set(t.option,"search_text",e)},expression:"option.search_text"}})],1)],1),a("v-uni-view",{staticClass:"form-inline common-btn-wrap"},[a("v-uni-button",{staticClass:"screen-btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getStoreGoods.apply(void 0,arguments)}}},[t._v("筛选")])],1)],1)],1),a("uniDataTable",{ref:"goodsListTable",attrs:{url:t.url,option:t.option,cols:t.cols,pagesize:8},on:{checkBox:function(e){arguments[0]=e=t.$handleEvent(e),t.checkBox.apply(void 0,arguments)},tableData:function(e){arguments[0]=e=t.$handleEvent(e),t.tableDataChange.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"btn"},[a("v-uni-button",{staticClass:"default-btn submit",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit("close")}}},[t._v("选中")]),a("v-uni-button",{staticClass:"default-btn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("change",!1)}}},[t._v("取消")])],1)],1)],1)},o=[]},"337b":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("2634")),n=i(a("2fdc")),s=i(a("b7c7"));a("4100"),a("473f"),a("bf0f"),a("4626"),a("5ac7"),a("dd2b"),a("aa9c"),a("2797"),a("c223"),a("f3f7"),a("18f7"),a("de6c"),a("fd3c"),a("bd06");var c=a("b2ef"),r=i(a("6b26")),d={name:"DaTree",props:r.default,data:function(){return{unCheckedStatus:c.unCheckedStatus,halfCheckedStatus:c.halfCheckedStatus,isCheckedStatus:c.isCheckedStatus,dataRef:[],datalist:[],datamap:{},expandedKeys:[],checkedKeys:null,loadLoading:!1,fieldMap:{value:"value",label:"label",children:"children",disabled:"disabled",append:"append",leaf:"leaf",sort:"sort"}}},watch:{defaultExpandedKeys:{immediate:!0,handler:function(t){null!==t&&void 0!==t&&t.length?this.expandedKeys=t:this.expandedKeys=[]}},defaultCheckedKeys:{immediate:!0,handler:function(t){this.showCheckbox?null!==t&&void 0!==t&&t.length?this.checkedKeys=t:this.checkedKeys=[]:this.checkedKeys=t||0===t?t:null}},data:{deep:!0,immediate:!0,handler:function(t){var e=this;this.dataRef=(0,c.deepClone)(t),setTimeout((function(){e.initData()}),36)}}},methods:{initData:function(){var t,e,a,i,o,n,s,r;this.fieldMap={value:(null===(t=this.field)||void 0===t?void 0:t.key)||(null===(e=this.field)||void 0===e?void 0:e.value)||this.valueField||"value",label:(null===(a=this.field)||void 0===a?void 0:a.label)||this.labelField||"label",children:(null===(i=this.field)||void 0===i?void 0:i.children)||this.childrenField||"children",disabled:(null===(o=this.field)||void 0===o?void 0:o.disabled)||this.disabledField||"disabled",append:(null===(n=this.field)||void 0===n?void 0:n.append)||this.appendField||"append",leaf:(null===(s=this.field)||void 0===s?void 0:s.leaf)||this.leafField||"leaf",sort:(null===(r=this.field)||void 0===r?void 0:r.sort)||this.sortField||"sort"};var d=(0,c.deepClone)(this.dataRef);this.datalist=[],this.datamap={},this.handleTreeData(d),this.datalist=this.checkInitData(this.datalist)},handleTreeData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.reduce((function(e,n,c){var r=n[t.fieldMap.value],d=n[t.fieldMap.children]||null,l=t.createNewItem(n,c,a,i);if(o>-1){var u,f,h,A=((null===(u=a.childrenKeys)||void 0===u?void 0:u.length)||0)+o+1;if(null===a||void 0===a||null===(f=a.childrenKeys)||void 0===f||!f.includes(r))t.datamap[r]=l,t.datalist.splice(A,0,l),a.children.push(l),null!==(h=l.parentKeys)&&void 0!==h&&h.length&&l.parentKeys.forEach((function(e){t.datamap[e].childrenKeys=[].concat((0,s.default)(t.datamap[e].childrenKeys),[l.key])}))}else t.datamap[r]=l,t.datalist.push(l);var p=d&&d.length>0;if(p){var v=t.handleTreeData(d,l,i+1);l.children=v;var m=v.reduce((function(t,e){var a=e.childrenKeys;return t.push.apply(t,(0,s.default)(a).concat([e.key])),t}),[]);l.childrenKeys=m}return e.push(l),e}),[])},createNewItem:function(t,e,a,i){var o=t[this.fieldMap.value],n=t[this.fieldMap.label],r=t[this.fieldMap.sort]||0,d=t[this.fieldMap.children]||null,l=t[this.fieldMap.append]||null,u=t[this.fieldMap.disabled]||!1;u=(null===a||void 0===a?void 0:a.disabled)||u;var f,h=(0,c.isFunction)(this.isLeafFn)?this.isLeafFn(t):t[this.fieldMap.leaf]||!1,A=d&&0===d.length,p=!0,v=this.defaultExpandAll||!1,m=this.loadMode&&(0,c.isFunction)(this.loadApi);(d||(v=!1,m?p=!0:(h=!0,p=!1)),A&&(v=!1,m?p=!0:(h=!0,p=!1)),h?(p=!1,v=!1):p=!0,this.showCheckbox)||this.onlyRadioLeaf&&(u=!h||((null===a||void 0===a||null===(f=a.originItem)||void 0===f?void 0:f.disabled)||!1));u&&(h||!d||A)&&(v=!1,p=!1);var g=a?a.key:null,b=this.defaultExpandAll||0===i,k={key:o,parentKey:g,label:n,append:l,isLeaf:h,showArrow:p,level:i,expand:v,show:b,sort:r,disabled:u,loaded:!1,loading:!1,indexs:[e],checkedStatus:c.unCheckedStatus,parentKeys:[],childrenKeys:[],children:[],originItem:t};return a&&(k.parentKeys=[a.key].concat((0,s.default)(a.parentKeys)),k.indexs=[].concat((0,s.default)(a.indexs),[e])),k},checkInitData:function(t){var e=null,a=[];return this.showCheckbox?(e=(0,s.default)(new Set(this.checkedKeys||[])),a=this.expandChecked?[].concat((0,s.default)(this.checkedKeys||[]),(0,s.default)(this.expandedKeys||[])):this.expandedKeys):(e=this.checkedKeys||null,a=this.expandChecked&&this.checkedKeys?[this.checkedKeys].concat((0,s.default)(this.expandedKeys||[])):this.expandedKeys),this.handleCheckState(t,e,!0),a=(0,s.default)(new Set(a)),this.defaultExpandAll||this.handleExpandState(t,a,!0),t.sort((function(t,e){return 0===t.sort&&0===e.sort?0:t.parentKey===e.parentKey?t.sort-e.sort>0?1:-1:0})),t},handleCheckState:function(t,e){var a=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.showCheckbox)null!==e&&void 0!==e&&e.length&&e.forEach((function(t){var e=a.datamap[t];e&&a.checkTheChecked(e,i)}));else for(var o=0;o<t.length;o++){var n=t[o];if(n.key===e){this.checkTheRadio(n,i);break}}},checkTheChecked:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.childrenKeys,o=t.parentKeys,n=t.disabled,s=void 0!==n&&n;!this.checkedDisabled&&s||(t.checkedStatus=a?c.isCheckedStatus:c.unCheckedStatus,this.checkStrictly||(i.forEach((function(a){var i=e.datamap[a];i.checkedStatus=!e.checkedDisabled&&i.disabled?i.checkedStatus:t.checkedStatus})),o.forEach((function(t){var a=e.datamap[t];a.checkedStatus=e.getParentCheckedStatus(a)}))))},checkTheRadio:function(t,e){var a,i=this,o=t.parentKeys,n=t.isLeaf,s=t.disabled,r=void 0!==s&&s;!this.checkedDisabled&&r||(!this.onlyRadioLeaf||n?(null!==(a=this.datalist)&&void 0!==a&&a.length&&this.datalist.forEach((function(t){t.checkedStatus=c.unCheckedStatus})),console.log("000",t,o,this.datamap),o.forEach((function(t){console.log("kkk",t,i.datamap[t]);var a=i.datamap[t];a.checkedStatus=e?i.getParentCheckedStatus(a):c.unCheckedStatus})),t.checkedStatus=e?c.isCheckedStatus:c.unCheckedStatus):(0,c.logError)("限制了末节点选中，当前[".concat(t.label,"]非末节点")))},handleExpandState:function(t,e){var a=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!1!==i)for(var o=0;o<t.length;o++){var n,s,c=t[o];if(null!==e&&void 0!==e&&e.includes(c.key))c.expand=!0,null!==(n=c.children)&&void 0!==n&&n.length&&c.children.forEach((function(t){var e=a.datamap[t.key];e.show=!0})),null!==(s=c.parentKeys)&&void 0!==s&&s.length&&c.parentKeys.forEach((function(t){var e,i=a.datamap[t];i.expand=!0,null!==(e=i.children)&&void 0!==e&&e.length&&i.children.forEach((function(t){var e=a.datamap[t.key];e.show=!0}))}))}else for(var r=0;r<t.length;r++){var d,l=t[r];if(null!==e&&void 0!==e&&e.includes(l.key))l.expand=!1,null!==(d=l.childrenKeys)&&void 0!==d&&d.length&&l.childrenKeys.forEach((function(t){a.datamap[t].expand=!1,a.datamap[t].show=!1}))}},handleCheckChange:function(t){var e=this,a=t.childrenKeys,i=t.parentKeys,o=t.checkedStatus,n=t.isLeaf,s=t.disabled,r=void 0!==s&&s;if(this.showCheckbox&&!r){t.checkedStatus=o===c.isCheckedStatus?c.unCheckedStatus:c.isCheckedStatus,this.checkStrictly?this.expandChecked&&(0,c.logError)("多选时，当 checkStrictly 为 true 时，不支持选择自动展开子节点属性(expandChecked)"):(this.expandChecked&&(t.show=!0,t.expand=(null===a||void 0===a?void 0:a.length)>0||n),a.forEach((function(a){var i,o=e.datamap[a];(o.checkedStatus=o.disabled?o.checkedStatus:t.checkedStatus,e.expandChecked)&&(o.show=!0,o.expand=(null===o||void 0===o||null===(i=o.childrenKeys)||void 0===i?void 0:i.length)>0||o.isLeaf)}))),this.checkStrictly||i.forEach((function(t){var a=e.datamap[t];a.checkedStatus=e.getParentCheckedStatus(a)}));for(var d=[],l=0;l<this.datalist.length;l++){var u=this.datalist[l];u.checkedStatus===c.isCheckedStatus&&(this.packDisabledkey&&u.disabled||!u.disabled)&&d.push(u.key)}this.checkedKeys=[].concat(d),this.$emit("change",d,t)}},handleRadioChange:function(t){var e,a=this,i=t.parentKeys,o=t.checkedStatus,n=t.key,s=t.disabled,r=void 0!==s&&s,d=t.isLeaf;if(!this.showCheckbox&&(this.onlyRadioLeaf&&!d&&this.handleExpandedChange(t),!r)){if(null!==(e=this.datalist)&&void 0!==e&&e.length)for(var l=0;l<this.datalist.length;l++){var u=this.datalist[l];u.checkedStatus=c.unCheckedStatus}i.forEach((function(t){var e=a.datamap[t];e.checkedStatus=a.getParentCheckedStatus(e)})),t.checkedStatus=o===c.isCheckedStatus?c.unCheckedStatus:c.isCheckedStatus,this.checkedKeys=n,this.$emit("change",n,t)}},handleLabelClick:function(t){this.showCheckbox?this.handleCheckChange(t):this.handleRadioChange(t)},handleExpandedChange:function(t){var e=this;return(0,n.default)((0,o.default)().mark((function a(){var i,n,s,r,d;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.expand,n=t.loading,s=void 0!==n&&n,r=t.disabled,!e.loadLoading||!s){a.next=3;break}return a.abrupt("return");case 3:if(e.checkExpandedChange(t),t.expand=!i,d=null,r){a.next=14;break}if(e.showCheckbox||!e.onlyRadioLeaf||!e.loadMode){a.next=11;break}(0,c.logError)("单选时，当 onlyRadioLeaf 为 true 时不支持动态数据"),a.next=14;break;case 11:return a.next=13,e.loadExpandNode(t);case 13:d=a.sent;case 14:e.$emit("expand",!i,d||t||null);case 15:case"end":return a.stop()}}),a)})))()},checkExpandedChange:function(t){var e=this,a=t.expand,i=t.childrenKeys,o=t.children,n=void 0===o?null:o;if(a)null!==i&&void 0!==i&&i.length&&i.forEach((function(t){e.datamap[t]&&(e.datamap[t].show=!1,e.datamap[t].expand=!1)}));else if(null!==n&&void 0!==n&&n.length){var s=n.map((function(t){return t.key}));s.forEach((function(t){e.datamap[t]&&(e.datamap[t].show=!0)}))}},loadExpandNode:function(t){var e=this;return(0,n.default)((0,o.default)().mark((function a(){var i,n,r,d,l,u,f,h,A,p,v;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.expand,n=t.key,r=t.loaded,d=t.children,null===d||void 0===d||!d.length||e.alwaysFirstLoad){a.next=3;break}return a.abrupt("return",t);case 3:if(!i||!e.loadMode||r){a.next=22;break}if(!(0,c.isFunction)(e.loadApi)){a.next=20;break}return e.expandedKeys.push(n),e.loadLoading=!0,t.loading=!0,u=(0,c.deepClone)(t),a.next=11,e.loadApi(u);case 11:f=a.sent,h=[].concat((0,s.default)((null===(l=t.originItem)||void 0===l?void 0:l.children)||[]),(0,s.default)(f||[])),A={},h=h.reduce((function(t,a){return!A[a[e.fieldMap]]&&(A[a[e.fieldMap]]=t.push(a)),t}),[]),t.originItem.children=h||null,null!==f&&void 0!==f&&f.length?(p=e.datalist.findIndex((function(e){return e.key===t.key})),e.handleTreeData(f,t,t.level+1,p),e.datalist=e.checkInitData(e.datalist)):(t.expand=!1,t.isLeaf=!0,t.showArrow=!1),e.loadLoading=!1,t.loading=!1,t.loaded=!0;case 20:a.next=24;break;case 22:v=e.expandedKeys.findIndex((function(t){return t===n})),v>=0&&e.expandedKeys.splice(v,1);case 24:return a.abrupt("return",t);case 25:case"end":return a.stop()}}),a)})))()},getParentCheckedStatus:function(t){if(!t)return c.unCheckedStatus;if(!this.checkedDisabled&&t.disabled)return t.checkedStatus||c.unCheckedStatus;if(!this.showCheckbox)return c.halfCheckedStatus;var e=t.children,a=e.every((function(t){return t.checkedStatus===c.isCheckedStatus}));if(a)return c.isCheckedStatus;var i=e.every((function(t){return t.checkedStatus===c.unCheckedStatus}));return i?c.unCheckedStatus:c.halfCheckedStatus},getCheckedKeys:function(){return(0,c.getAllNodeKeys)(this.datalist,"checkedStatus",c.isCheckedStatus,this.packDisabledkey)},setCheckedKeys:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.showCheckbox){if(!(0,c.isArray)(t))return void(0,c.logError)("setCheckedKeys 第一个参数非数组，传入的是[".concat(t,"]"));var a=this.datalist;if(!1===e){for(var i=[],o=0;o<this.checkedKeys.length;o++){var n=this.checkedKeys[o];t.includes(n)||i.push(n)}return i=(0,s.default)(new Set(i)),this.checkedKeys=i,void this.handleCheckState(a,t,!1)}var r=[].concat((0,s.default)(this.checkedKeys),(0,s.default)(t));return this.checkedKeys=(0,s.default)(new Set(r)),this.handleCheckState(a,this.checkedKeys,!0),void(this.expandChecked&&e&&(this.expandedKeys=(0,s.default)(new Set([].concat((0,s.default)(this.checkedKeys||[]),(0,s.default)(t||[])))),this.handleExpandState(a,t,!0)))}if((0,c.isArray)(t)&&(t=t[0]),(0,c.isString)(t)||(0,c.isNumber)(t)){var d=this.datalist;this.checkedKeys=e?t:null,this.expandChecked&&e&&this.handleExpandState(d,[t],!0),this.handleCheckState(d,t,!!e)}else(0,c.logError)("setCheckedKeys 第一个参数字符串或数字，传入的是==>",t)},getHalfCheckedKeys:function(){return(0,c.getAllNodeKeys)(this.datalist,"checkedStatus",c.halfCheckedStatus,this.packDisabledkey)},getUncheckedKeys:function(){return(0,c.getAllNodeKeys)(this.datalist,"checkedStatus",c.unCheckedStatus,this.packDisabledkey)},getExpandedKeys:function(){return(0,c.getAllNodeKeys)(this.datalist,"expand",!0)},setExpandedKeys:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Array.isArray(t)||"all"===t){var a=this.datalist;if("all"!==t){if(!1===e){for(var i=[],o=0;o<this.expandedKeys.length;o++){var n=this.expandedKeys[o];t.includes(n)||i.push(n)}return this.expandedKeys=(0,s.default)(new Set(i)),void this.handleExpandState(a,t,!1)}for(var r=[],d=0;d<a.length;d++)t.includes(a[d].key)&&r.push(a[d].key);this.expandedKeys=(0,s.default)(new Set(r)),this.handleExpandState(a,r,!0)}else a.forEach((function(t){t.expand=e,t.level>0&&(t.show=e)}))}else(0,c.logError)("setExpandedKeys 第一个参数非数组，传入的是===>",t)},getUnexpandedKeys:function(){return(0,c.getAllNodeKeys)(this.datalist,"expand",!1)},getCheckedNodes:function(){return(0,c.getAllNodes)(this.datalist,"checkedStatus",c.isCheckedStatus,this.packDisabledkey)},getHalfCheckedNodes:function(){return(0,c.getAllNodes)(this.datalist,"checkedStatus",c.halfCheckedStatus,this.packDisabledkey)},getUncheckedNodes:function(){return(0,c.getAllNodes)(this.datalist,"checkedStatus",c.unCheckedStatus,this.packDisabledkey)},getExpandedNodes:function(){return(0,c.getAllNodes)(this.datalist,"expand",!0)},getUnexpandedNodes:function(){return(0,c.getAllNodes)(this.datalist,"expand",!1)}}};e.default=d},"378e":function(t,e,a){"use strict";a.r(e);var i=a("60fd"),o=a("f9ea");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("5cde");var s=a("828b"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"8640f25c",null,!1,i["a"],void 0);e["default"]=c.exports},"3e36":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-app--showleftwindow + .uni-tabbar-bottom[data-v-8640f25c]{display:none}\r\n/* 收银台相关 */uni-text[data-v-8640f25c],\r\nuni-view[data-v-8640f25c]{font-size:.14rem}body[data-v-8640f25c]{min-width:1200px;overflow-x:unset!important;overflow-y:hidden;background:#f8f8f8}body[data-v-8640f25c]::-webkit-scrollbar{width:.06rem;height:.06rem}body[data-v-8640f25c]::-webkit-scrollbar-button{display:none}body[data-v-8640f25c]::-webkit-scrollbar-thumb{border-radius:.06rem;box-shadow:inset 0 0 .06rem rgba(45,43,43,.45);background-color:#ddd}body[data-v-8640f25c]::-webkit-scrollbar-track{background-color:initial}uni-radio[data-v-8640f25c]{-webkit-transform:scale(.8);transform:scale(.8)}uni-checkbox[data-v-8640f25c]{-webkit-transform:scale(.8);transform:scale(.8)}uni-modal .uni-modal__btn_primary[data-v-8640f25c]{color:var(--primary-color)!important}.coupons-form[data-v-8640f25c]{position:relative}.coupons-form .common-wrap.fixd[data-v-8640f25c]{padding:%?30?%;height:calc(100vh - .4rem);overflow-y:auto;box-sizing:border-box}.coupons-form .common-wrap.fixd .form-label[data-v-8640f25c]{width:1.7rem!important}.coupons-form .common-wrap.fixd .form-input-inline[data-v-8640f25c] .uni-select{border:none}.coupons-form .common-wrap.fixd .common-btn-wrap[data-v-8640f25c]{position:absolute;left:0;bottom:0;right:0;padding:.24rem .2rem}.coupons-form .common-wrap.fixd .form-word-aux-line[data-v-8640f25c]{margin-left:1.7rem!important}.coupons-form .common-wrap.fixd .form-word-aux-line .gooods_select[data-v-8640f25c]{margin:0}.coupons-form .common-wrap.fixd .form-word-aux-line .goods_names[data-v-8640f25c]{margin-left:.15rem}.coupons-form .upload-box[data-v-8640f25c]{border:.01rem dashed #e6e6e6!important;width:2.5rem!important;height:1.2rem!important;display:flex;align-items:center;justify-content:center}.coupons-form .upload-box .upload[data-v-8640f25c]{text-align:center;color:#5a5a5a}.coupons-form .upload-box .upload .iconfont[data-v-8640f25c]{font-size:.3rem}.coupons-form .upload-box .upload uni-image[data-v-8640f25c]{max-width:100%;height:1.2rem!important}.coupons-form .coupons-img[data-v-8640f25c]{align-items:flex-start!important}.coupons-form .map-box[data-v-8640f25c]{width:6.5rem;height:5rem;position:relative}.coupons-form .map-box .map-icon[data-v-8640f25c]{position:absolute;top:calc(50% - .36rem);left:calc(50% - .18rem);width:.36rem;height:.36rem;z-index:100}.coupons-form .form-input[data-v-8640f25c]{font-size:.16rem}.coupons-form .form-input-inline.btn[data-v-8640f25c]{height:.37rem;line-height:.35rem;box-sizing:border-box;border:.01rem solid #e6e6e6;text-align:center;cursor:pointer}.coupons-form .common-title[data-v-8640f25c]{font-size:.18rem;margin-bottom:.2rem}.coupons-form[data-v-8640f25c] .uni-select-lay-select{height:.37rem;width:2.52rem;margin:0}.coupons-form .radio-list[data-v-8640f25c]{width:7rem!important}.coupons-form .radio-item[data-v-8640f25c]{margin-right:.1rem}.coupons-form[data-v-8640f25c] .uni-date-x{height:.37rem}.coupons-form .top[data-v-8640f25c]{margin-top:.1rem}.coupons-form .w-250[data-v-8640f25c]{width:2.5rem}.coupons-form .form-input-inline[data-v-8640f25c]{width:2.5rem}.coupons-form .required[data-v-8640f25c]{color:red}.coupons-form .table-wrap[data-v-8640f25c]{position:relative;border:%?1?% solid #ccc;color:#333}.coupons-form .table-wrap .table-head[data-v-8640f25c]{background-color:#f7f7f7}.coupons-form .table-wrap .table-body .table-tr:last-of-type .table-td[data-v-8640f25c]{border-bottom:0}.coupons-form .table-wrap .table-tr[data-v-8640f25c]{display:flex}.coupons-form .table-wrap .table-th[data-v-8640f25c],\r\n.coupons-form .table-wrap .table-td[data-v-8640f25c]{display:flex;align-items:center;justify-content:center;padding:.07rem .3rem;border-bottom:.01rem solid #ccc;border-right:.01rem solid #ccc;text-align:center}.coupons-form .table-wrap .table-th[data-v-8640f25c]:last-of-type,\r\n.coupons-form .table-wrap .table-td[data-v-8640f25c]:last-of-type{border-right:0;justify-content:flex-end}.coupons-form .table-wrap .table-th.goods-name[data-v-8640f25c],\r\n.coupons-form .table-wrap .table-td.goods-name[data-v-8640f25c]{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.coupons-form .table-wrap .delete[data-v-8640f25c]{margin:0;font-size:.14rem;background-color:var(--primary-color);color:#fff;line-height:.32rem;height:.32rem}.coupons-form .table-wrap .delete[data-v-8640f25c]::after{border-width:0}.coupons-form .table-wrap .table-empty[data-v-8640f25c]{justify-content:center;padding:.3rem;color:#999}.coupons-form .gooods_select[data-v-8640f25c]{background-color:var(--primary-color);color:#fff;display:inline-block;padding:0 .2rem;height:.36rem;line-height:.36rem;font-size:.14rem;border-radius:3px;margin-top:.1rem}.coupons-form .gooods_select[data-v-8640f25c]::after{border-width:0}',""]),t.exports=e},"45d5":function(t,e,a){var i=a("65ef");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("967d").default;o("7c69831a",i,!0,{sourceMap:!1,shadowMode:!1})},"53f7":function(t,e,a){"use strict";var i=a("7658"),o=a("57e7");i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},"5adf":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223"),a("bf0f"),a("2797"),a("aa9c");var i=a("7a48"),o={name:"couponCategoryPopup",data:function(){return{treeData:[],defaultCheckedKeysValue:[],checkList:[]}},mounted:function(){this.getGoodsCategoryFn()},methods:{getGoodsCategoryFn:function(){var t=this;(0,i.getGoodsCategory)({level:3}).then((function(e){t.treeData=e.data}))},open:function(t){this.defaultCheckedKeysValue=this.$util.deepClone(t),this.$refs.couponCategoryPop.open()},handleTreeChange:function(t){this.defaultCheckedKeysValue=this.$util.deepClone(t);var e=this.$refs.DaTreeRef.getHalfCheckedKeys()||[];this.checkList=this.$util.deepClone(t.concat(e))},getSelectedIdsAndNames:function(t,e){var a=this,i=[],o=[],n=0,s=function(s){var c=t[s],r=null;if(e.forEach((function(t){t.category_id!==c.category_id||(r=t)})),!r)throw"对比数据有误";var d=c.category_name;if(o.push(c.category_id),c.child_num>0){var l=a.getSelectedIdsAndNames(c.child_list,r.child_list);l.selected_num==r.child_num?n++:d+="（"+l.name_arr.join("、")+"）",o=o.concat(l.id_arr)}else n++;i.push(d)};for(var c in t)s(c);return{selected_num:n,name_arr:i,id_arr:o}},confirm:function(){var t=this;if(!this.checkList.length)return this.$util.showToast({title:"请选择商品分类"}),!1;(0,i.getGoodsCategory)({level:3,category_ids:this.checkList.join(",")}).then((function(e){var a=t.getSelectedIdsAndNames(e.data,t.treeData);t.$emit("confirm",a),t.$refs.couponCategoryPop.close()}))}}};e.default=o},"5c7e":function(t,e,a){"use strict";var i=a("45d5"),o=a.n(i);o.a},"5cde":function(t,e,a){"use strict";var i=a("cf79"),o=a.n(i);o.a},"60fd":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uniDataCheckbox:a("2596").default,uniDatetimePicker:a("77b6").default,stockGoodsDialog:a("d9a8").default,couponCategoryPopup:a("00b7").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-page",[a("v-uni-view",{staticClass:"coupons-form"},[a("v-uni-view",{staticClass:"common-wrap common-form fixd common-scrollbar"},[a("v-uni-view",{staticClass:"common-title"},[t._v(t._s(t.couponsData.coupon_type_id?"编辑优惠券":"添加优惠券"))]),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("优惠券名称")],1),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"text",maxlength:"15"},model:{value:t.couponsData.coupon_name,callback:function(e){t.$set(t.couponsData,"coupon_name",e)},expression:"couponsData.coupon_name"}})],1)],1),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("优惠券类型")],1),a("v-uni-view",{staticClass:"form-input-inline border-0"},[a("uni-data-checkbox",{attrs:{localdata:t.typeList},model:{value:t.couponsData.type,callback:function(e){t.$set(t.couponsData,"type",e)},expression:"couponsData.type"}})],1)],1),"reward"==t.couponsData.type?a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("优惠券面额")],1),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.couponsData.money,callback:function(e){t.$set(t.couponsData,"money",e)},expression:"couponsData.money"}})],1),a("v-uni-text",{staticClass:"form-word-aux"},[t._v("元")]),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("价格不能小于等于0，可保留两位小数")])],1):a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("优惠券折扣")],1),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.couponsData.discount,callback:function(e){t.$set(t.couponsData,"discount",e)},expression:"couponsData.discount"}})],1),a("v-uni-text",{staticClass:"form-word-aux"},[t._v("折")]),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("优惠券折扣不能小于1折，且不可大于9.9折，可保留两位小数")])],1),"discount"==t.couponsData.type?a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[t._v("最多优惠")]),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.couponsData.discount_limit,callback:function(e){t.$set(t.couponsData,"discount_limit",e)},expression:"couponsData.discount_limit"}})],1),a("v-uni-text",{staticClass:"form-word-aux"},[t._v("元")])],1):t._e(),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("满多少元可以使用")],1),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.couponsData.at_least,callback:function(e){t.$set(t.couponsData,"at_least",e)},expression:"couponsData.at_least"}})],1),a("v-uni-text",{staticClass:"form-word-aux"},[t._v("元")]),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("价格不能小于0，无门槛请设为0")])],1),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[t._v("是否允许直接领取")]),a("v-uni-view",{staticClass:"form-input-inline border-0"},[a("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:1===t.couponsData.is_show},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkIsShow.apply(void 0,arguments)}}})],1)],1),1===t.couponsData.is_show?[a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("发放数量")],1),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.couponsData.count,callback:function(e){t.$set(t.couponsData,"count",e)},expression:"couponsData.count"}})],1),a("v-uni-text",{staticClass:"form-word-aux"},[t._v("张")]),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("优惠券发放数量，没有之后不能领取或发放，-1为不限制发放数量,发放数量只能增加不能减少。")])],1),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("最大领取数量")],1),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.couponsData.max_fetch,callback:function(e){t.$set(t.couponsData,"max_fetch",e)},expression:"couponsData.max_fetch"}})],1),a("v-uni-text",{staticClass:"form-word-aux"},[t._v("张")]),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("数量不能小于0，且必须为整数；设置为0时，可无限领取")])],1)]:t._e(),a("v-uni-view",{staticClass:"common-form-item coupons-img"},[a("v-uni-label",{staticClass:"form-label"},[t._v("优惠券图片")]),a("v-uni-view",{staticClass:"form-input-inline upload-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addImg.apply(void 0,arguments)}}},[t.couponsData.image?a("v-uni-view",{staticClass:"upload"},[a("v-uni-image",{attrs:{src:t.$util.img(t.couponsData.image),mode:"heightFix"}})],1):a("v-uni-view",{staticClass:"upload"},[a("v-uni-text",{staticClass:"iconfont iconyunshangchuan"}),a("v-uni-view",[t._v("点击上传")])],1)],1),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("建议尺寸：325*95像素，图片上传默认不限制大小")])],1),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[t._v("有效期类型")]),a("v-uni-view",{staticClass:"form-input-inline border-0 radio-list"},[a("uni-data-checkbox",{attrs:{localdata:t.validityTypeList},model:{value:t.couponsData.validity_type,callback:function(e){t.$set(t.couponsData,"validity_type",e)},expression:"couponsData.validity_type"}})],1),0===t.couponsData.validity_type?a("v-uni-view",{staticClass:"form-word-aux-line top"},[a("v-uni-view",{staticClass:"w-250"},[a("uni-datetime-picker",{attrs:{type:"timestamp",clearIcon:!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTime.apply(void 0,arguments)}},model:{value:t.couponsData.end_time,callback:function(e){t.$set(t.couponsData,"end_time",e)},expression:"couponsData.end_time"}})],1)],1):t._e()],1),1===t.couponsData.validity_type?a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[a("v-uni-text",{staticClass:"required"},[t._v("*")]),t._v("领取后几天有效")],1),a("v-uni-view",{staticClass:"form-input-inline"},[a("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.couponsData.fixed_term,callback:function(e){t.$set(t.couponsData,"fixed_term",e)},expression:"couponsData.fixed_term"}})],1),a("v-uni-text",{staticClass:"form-word-aux"},[t._v("天")]),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("不能小于等于0，且必须为整数")])],1):t._e(),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[t._v("活动商品")]),a("v-uni-view",{staticClass:"form-input-inline border-0 radio-list"},[a("uni-data-checkbox",{attrs:{localdata:t.goodsTypeList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.goodsType.apply(void 0,arguments)}},model:{value:t.couponsData.goods_type,callback:function(e){t.$set(t.couponsData,"goods_type",e)},expression:"couponsData.goods_type"}})],1),2==t.couponsData.goods_type||3===t.couponsData.goods_type?a("v-uni-view",{staticClass:"form-word-aux-line top"},[a("v-uni-view",{staticClass:"table-wrap"},[a("v-uni-view",{staticClass:"table-head"},[a("v-uni-view",{staticClass:"table-tr"},[a("v-uni-view",{staticClass:"table-th",staticStyle:{flex:"5"}},[t._v("商品名称")]),a("v-uni-view",{staticClass:"table-th",staticStyle:{flex:"1"}},[t._v("价格")]),a("v-uni-view",{staticClass:"table-th",staticStyle:{flex:"1"}},[t._v("库存")]),a("v-uni-view",{staticClass:"table-th",staticStyle:{flex:"1"}},[t._v("操作")])],1)],1),a("v-uni-view",{staticClass:"table-body"},[t._l(t.couponsData.goods_list,(function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"table-tr"},[a("v-uni-view",{staticClass:"table-td goods-name",staticStyle:{flex:"5"}},[t._v(t._s(e.goods_name))]),a("v-uni-view",{staticClass:"table-td",staticStyle:{flex:"1"}},[t._v(t._s(e.price||"0.00"))]),a("v-uni-view",{staticClass:"table-td",staticStyle:{flex:"1"}},[t._v(t._s(e.goods_stock||0))]),a("v-uni-view",{staticClass:"table-td",staticStyle:{flex:"1"}},[a("v-uni-button",{staticClass:"delete",attrs:{type:"default"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.delGoods(e.sku_id)}}},[t._v("删除")])],1)],1)]})),t.couponsData.goods_list.length?t._e():a("v-uni-view",{staticClass:"table-tr table-empty"},[t._v("暂无数据，请选择商品数据")])],2)],1),a("v-uni-button",{staticClass:"gooods_select",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dialogVisible=!0}}},[t._v("选择商品")])],1):t._e(),4==t.couponsData.goods_type||5===t.couponsData.goods_type?a("v-uni-view",{staticClass:"form-word-aux-line top"},[a("v-uni-view",{staticClass:"flex items-center"},[a("v-uni-button",{staticClass:"gooods_select",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.couponCategoryPop.open(t.couponsData.goods_ids_real?t.couponsData.goods_ids_real.split(","):[])}}},[t._v("选择商品分类")]),a("v-uni-text",{staticClass:"goods_names"},[t._v(t._s(t.couponsData.goods_names))])],1)],1):t._e()],1),a("v-uni-view",{staticClass:"common-form-item"},[a("v-uni-label",{staticClass:"form-label"},[t._v("适用场景")]),a("v-uni-view",{staticClass:"form-input-inline border-0 radio-list"},[a("uni-data-checkbox",{attrs:{localdata:t.useChannelList},model:{value:t.couponsData.use_channel,callback:function(e){t.$set(t.couponsData,"use_channel",e)},expression:"couponsData.use_channel"}})],1),a("v-uni-text",{staticClass:"form-word-aux-line"},[t._v("在小程序和pc端商城下单为线上使用，在收银台下单为线下使用。")])],1),a("v-uni-view",{staticClass:"common-btn-wrap"},[a("v-uni-button",{staticClass:"screen-btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveFn.apply(void 0,arguments)}}},[t._v("保存")]),a("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backFn.apply(void 0,arguments)}}},[t._v("返回")])],1)],2)],1),a("stock-goods-dialog",{attrs:{apiType:"spu"},on:{selectGoods:function(e){arguments[0]=e=t.$handleEvent(e),t.selectGoods.apply(void 0,arguments)}},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}}),a("coupon-category-popup",{ref:"couponCategoryPop",on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goodsCategoryConfirm.apply(void 0,arguments)}}})],1)},n=[]},"65ef":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-app--showleftwindow + .uni-tabbar-bottom[data-v-0726a53f]{display:none}\r\n/* 收银台相关 */uni-text[data-v-0726a53f],\r\nuni-view[data-v-0726a53f]{font-size:.14rem}body[data-v-0726a53f]{min-width:1200px;overflow-x:unset!important;overflow-y:hidden;background:#f8f8f8}body[data-v-0726a53f]::-webkit-scrollbar{width:.06rem;height:.06rem}body[data-v-0726a53f]::-webkit-scrollbar-button{display:none}body[data-v-0726a53f]::-webkit-scrollbar-thumb{border-radius:.06rem;box-shadow:inset 0 0 .06rem rgba(45,43,43,.45);background-color:#ddd}body[data-v-0726a53f]::-webkit-scrollbar-track{background-color:initial}uni-radio[data-v-0726a53f]{-webkit-transform:scale(.8);transform:scale(.8)}uni-checkbox[data-v-0726a53f]{-webkit-transform:scale(.8);transform:scale(.8)}uni-modal .uni-modal__btn_primary[data-v-0726a53f]{color:var(--primary-color)!important}.uni-data-loading[data-v-0726a53f]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:.36rem;padding-left:.1rem;color:#999}.uni-data-checklist[data-v-0726a53f]{position:relative;z-index:0;flex:1}.uni-data-checklist .checklist-group[data-v-0726a53f]{display:flex;flex-direction:row;flex-wrap:wrap}.uni-data-checklist .checklist-group.is-list[data-v-0726a53f]{flex-direction:column}.uni-data-checklist .checklist-group .checklist-box[data-v-0726a53f]{display:flex;flex-direction:row;align-items:center;position:relative;margin:.05rem 0;margin-right:.25rem}.uni-data-checklist .checklist-group .checklist-box .hidden[data-v-0726a53f]{position:absolute;opacity:0}.uni-data-checklist .checklist-group .checklist-box .checklist-content[data-v-0726a53f]{display:flex;flex:1;flex-direction:row;align-items:center;justify-content:space-between}.uni-data-checklist .checklist-group .checklist-box .checklist-content .checklist-text[data-v-0726a53f]{font-size:.14rem;color:#666;margin-left:.05rem;line-height:.14rem}.uni-data-checklist .checklist-group .checklist-box .checklist-content .checkobx__list[data-v-0726a53f]{border-right-width:.01rem;border-right-color:var(--primary-color);border-right-style:solid;border-bottom-width:.01rem;border-bottom-color:var(--primary-color);border-bottom-style:solid;height:.12rem;width:.06rem;left:-.05rem;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}.uni-data-checklist .checklist-group .checklist-box .checkbox__inner[data-v-0726a53f]{flex-shrink:0;box-sizing:border-box;position:relative;width:.16rem;height:.16rem;border:.01rem solid #dcdfe6;border-radius:.04rem;background-color:#fff;z-index:1}.uni-data-checklist .checklist-group .checklist-box .checkbox__inner .checkbox__inner-icon[data-v-0726a53f]{position:absolute;top:.01rem;left:.05rem;height:.08rem;width:.04rem;border-right-width:.01rem;border-right-color:#fff;border-right-style:solid;border-bottom-width:.01rem;border-bottom-color:#fff;border-bottom-style:solid;opacity:0;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(40deg);transform:rotate(40deg)}.uni-data-checklist .checklist-group .checklist-box .radio__inner[data-v-0726a53f]{display:flex;flex-shrink:0;box-sizing:border-box;justify-content:center;align-items:center;position:relative;width:.16rem;height:.16rem;border:.01rem solid #dcdfe6;border-radius:.16rem;background-color:#fff;z-index:1}.uni-data-checklist .checklist-group .checklist-box .radio__inner .radio__inner-icon[data-v-0726a53f]{width:.08rem;height:.08rem;border-radius:.1rem;opacity:0}.uni-data-checklist .checklist-group .checklist-box.is--default.is-disable[data-v-0726a53f]{cursor:not-allowed}.uni-data-checklist .checklist-group .checklist-box.is--default.is-disable .checkbox__inner[data-v-0726a53f]{background-color:#f2f6fc;border-color:#dcdfe6;cursor:not-allowed}.uni-data-checklist .checklist-group .checklist-box.is--default.is-disable .radio__inner[data-v-0726a53f]{background-color:#f2f6fc;border-color:#dcdfe6}.uni-data-checklist .checklist-group .checklist-box.is--default.is-disable .checklist-text[data-v-0726a53f]{color:#999}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked .checkbox__inner[data-v-0726a53f]{border-color:var(--primary-color)!important;background-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked .checkbox__inner .checkbox__inner-icon[data-v-0726a53f]{opacity:1;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked .radio__inner[data-v-0726a53f]{border-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked .radio__inner .radio__inner-icon[data-v-0726a53f]{opacity:1;background-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked .checklist-text[data-v-0726a53f]{color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked.is-disable .checkbox__inner[data-v-0726a53f]{opacity:.4}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked.is-disable .checklist-text[data-v-0726a53f]{opacity:.4}.uni-data-checklist .checklist-group .checklist-box.is--default.is-checked.is-disable .radio__inner[data-v-0726a53f]{opacity:.4}.uni-data-checklist .checklist-group .checklist-box.is--button[data-v-0726a53f]{margin-right:.1rem;padding:.05rem .1rem;border:.01rem #dcdfe6 solid;border-radius:.03rem;transition:border-color .2s}.uni-data-checklist .checklist-group .checklist-box.is--button.is-disable[data-v-0726a53f]{cursor:not-allowed;border:.01rem #eee solid;opacity:.4}.uni-data-checklist .checklist-group .checklist-box.is--button.is-disable .checkbox__inner[data-v-0726a53f]{background-color:#f2f6fc;border-color:#dcdfe6;cursor:not-allowed}.uni-data-checklist .checklist-group .checklist-box.is--button.is-disable .radio__inner[data-v-0726a53f]{background-color:#f2f6fc;border-color:#dcdfe6;cursor:not-allowed}.uni-data-checklist .checklist-group .checklist-box.is--button.is-disable .checklist-text[data-v-0726a53f]{color:#999}.uni-data-checklist .checklist-group .checklist-box.is--button.is-checked[data-v-0726a53f]{border-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--button.is-checked .checkbox__inner[data-v-0726a53f]{border-color:var(--primary-color)!important;background-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--button.is-checked .checkbox__inner .checkbox__inner-icon[data-v-0726a53f]{opacity:1;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.uni-data-checklist .checklist-group .checklist-box.is--button.is-checked .radio__inner[data-v-0726a53f]{border-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--button.is-checked .radio__inner .radio__inner-icon[data-v-0726a53f]{opacity:1;background-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--button.is-checked .checklist-text[data-v-0726a53f]{color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--button.is-checked.is-disable[data-v-0726a53f]{opacity:.4}.uni-data-checklist .checklist-group .checklist-box.is--tag[data-v-0726a53f]{margin-right:.1rem;padding:.05rem .1rem;border:.01rem #dcdfe6 solid;border-radius:.3rem;background-color:#f5f5f5}.uni-data-checklist .checklist-group .checklist-box.is--tag .checklist-text[data-v-0726a53f]{margin:0;color:#666}.uni-data-checklist .checklist-group .checklist-box.is--tag.is-disable[data-v-0726a53f]{cursor:not-allowed;opacity:.4}.uni-data-checklist .checklist-group .checklist-box.is--tag.is-checked[data-v-0726a53f]{background-color:var(--primary-color)!important;border-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--tag.is-checked .checklist-text[data-v-0726a53f]{color:#fff}.uni-data-checklist .checklist-group .checklist-box.is--list[data-v-0726a53f]{display:flex;padding:.1rem .15rem;padding-left:0;margin:0}.uni-data-checklist .checklist-group .checklist-box.is--list.is-list-border[data-v-0726a53f]{border-top:.01rem #eee solid}.uni-data-checklist .checklist-group .checklist-box.is--list.is-disable[data-v-0726a53f]{cursor:not-allowed}.uni-data-checklist .checklist-group .checklist-box.is--list.is-disable .checkbox__inner[data-v-0726a53f]{background-color:#f2f6fc;border-color:#dcdfe6;cursor:not-allowed}.uni-data-checklist .checklist-group .checklist-box.is--list.is-disable .checklist-text[data-v-0726a53f]{color:#999}.uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .checkbox__inner[data-v-0726a53f]{border-color:var(--primary-color)!important;background-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .checkbox__inner .checkbox__inner-icon[data-v-0726a53f]{opacity:1;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .radio__inner .radio__inner-icon[data-v-0726a53f]{opacity:1}.uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .checklist-text[data-v-0726a53f]{color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .checklist-content .checkobx__list[data-v-0726a53f]{opacity:1;border-color:var(--primary-color)!important}.uni-data-checklist .checklist-group .checklist-box.is--list.is-checked.is-disable .checkbox__inner[data-v-0726a53f]{opacity:.4}.uni-data-checklist .checklist-group .checklist-box.is--list.is-checked.is-disable .checklist-text[data-v-0726a53f]{opacity:.4}',""]),t.exports=e},"6b26":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa");var i={data:{type:Array,default:function(){return[]}},themeColors:{type:String,default:"#007aff"},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:[Array,String,Number],default:null},checkboxPlacement:{type:String,default:"left"},defaultExpandAll:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:null},expandChecked:{type:Boolean,default:!1},indent:{type:Number,default:.4},field:{type:Object,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},leafField:{type:String,default:"leaf"},appendField:{type:String,default:"append"},sortField:{type:String,default:"sort"},isLeafFn:{type:Function,default:null},showRadioIcon:{type:Boolean,default:!0},onlyRadioLeaf:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},loadMode:{type:Boolean,default:!1},loadApi:{type:Function,default:null},alwaysFirstLoad:{type:Boolean,default:!1},checkedDisabled:{type:Boolean,default:!1},packDisabledkey:{type:Boolean,default:!0}};e.default=i},7343:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223"),a("dc8a"),a("5ef2"),a("aa9c"),a("dd2b"),a("22b6"),a("bf0f"),a("2797");var o=i(a("07c9")),n=i(a("13ab")),s=a("7a48"),c={name:"stockDialog",components:{unipopup:o.default,uniDataTable:n.default},model:{prop:"value",event:"change"},props:{value:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}},apiType:{type:String,default:"sku"}},data:function(){var t=this;return{goodsCategoryList:{},activeList:[],option:{category_id:"",search_text:"",is_weigh:0,page_size:8},cols:[{width:6,align:"center",checkbox:!0},{field:"account_data",width:50,title:"商品信息",align:"left",templet:function(e){var a=t.$util.img(e.sku_image),i='\n\t\t\t\t\t\t\t<view class="goods-content">\n\t\t\t\t\t\t\t\t<image class="goods-img" src="'.concat(a,'" mode="aspectFit"/>\n\t\t\t\t\t\t\t\t<text class="goods-name multi-hidden"  title="').concat(e.sku_name,'">').concat(e.sku_name,"</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t");return i}},{field:"real_stock",width:22,title:"库存",align:"center",templet:function(t){return t.real_stock||0}},{width:22,title:"单位",templet:function(t){return t.unit||"件"}}],checkList:{},url:"/stock/storeapi/manage/getStoreGoods"}},watch:{value:{handler:function(t){var e=this;t?this.$nextTick((function(){e.option=Object.assign(e.option,e.params),e.params.temp_store_id&&""==e.params.temp_store_id&&delete e.option.temp_store_id,e.$refs.dialogRef.open()})):this.$nextTick((function(){e.option=Object(e.option,{category_id:"",search_text:"",is_weigh:0,page:1,page_size:8}),e.checkList={},e.$refs.dialogRef.close()}))},immediate:!0},apiType:{handler:function(t){var e=this;"sku"==t?(this.cols=[{width:6,align:"center",checkbox:!0},{field:"account_data",width:50,title:"商品信息",align:"left",templet:function(t){var a=e.$util.img(t.sku_image),i='\n\t\t\t\t\t\t\t\t\t<view class="goods-content">\n\t\t\t\t\t\t\t\t\t\t<image class="goods-img" src="'.concat(a,'" mode="aspectFit"/>\n\t\t\t\t\t\t\t\t\t\t<text class="goods-name multi-hidden"  title="').concat(t.sku_name,'">').concat(t.sku_name,"</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t");return i}},{field:"real_stock",width:22,title:"库存",align:"center",templet:function(t){return t.real_stock||0}},{width:22,title:"单位",templet:function(t){return t.unit||"件"}}],this.url="/stock/storeapi/manage/getStoreGoods"):"spu"==t&&(this.cols=[{width:6,align:"center",checkbox:!0},{field:"account_data",width:50,title:"商品信息",align:"left",templet:function(t){var a=e.$util.img(t.goods_image),i='\n\t\t\t\t\t\t\t\t\t<view class="goods-content">\n\t\t\t\t\t\t\t\t\t\t<image class="goods-img" src="'.concat(a,'" mode="aspectFit"/>\n\t\t\t\t\t\t\t\t\t\t<text class="goods-name multi-hidden"  title="').concat(t.goods_name,'">').concat(t.goods_name,"</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t");return i}},{field:"goods_stock",width:22,title:"库存",align:"center",templet:function(t){return t.goods_stock||0}},{width:22,title:"商品类型",templet:function(t){return t.goods_class_name||"--"}}],this.url="/cashier/storeapi/goods/getGoodsListBySelect")},immediate:!0}},mounted:function(){this.getGoodsCategory()},methods:{getGoodsCategory:function(){var t=this;(0,s.getManageGoodsCategory)().then((function(e){uni.hideLoading(),e.data&&Object.keys(e.data)?t.goodsCategoryList=e.data:t.$util.showToast({title:e.message})}))},itemClick:function(t){this.option.category_id=t.category_id;var e=this.activeList.indexOf(t.category_id);t.child_num&&-1===e?this.activeList.push(t.category_id):t.child_num&&-1!=e&&this.activeList.splice(e,1),this.$forceUpdate(),this.getStoreGoods()},getStoreGoods:function(){this.$refs.goodsListTable.load({page:1})},checkBox:function(t,e){this.checkList[this.$refs.goodsListTable.page]={},this.checkList[this.$refs.goodsListTable.page].data=t,this.checkList[this.$refs.goodsListTable.page].index=e},tableDataChange:function(){this.checkList[this.$refs.goodsListTable.page]&&this.$refs.goodsListTable.defaultSelectData(this.checkList[this.$refs.goodsListTable.page].data,this.checkList[this.$refs.goodsListTable.page].index)},submit:function(t){if(!Object.values(this.checkList).length)return this.$util.showToast({title:"请选择商品"}),!1;var e=[];Object.values(this.checkList).forEach((function(t,a){e=e.concat(t.data)})),this.$emit("selectGoods",e),"submit"!=t?this.$emit("change",!1):this.$refs.goodsListTable.clearCheck(),this.checkList=[]}}};e.default=c},"797d":function(t,e,a){"use strict";var i=a("8471"),o=a.n(i);o.a},"7a48":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.editGoods=function(t){return o.default.post("/cashier/storeapi/goods/editgoods",{data:t})},e.exportPrintPriceTagData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post("/cashier/storeapi/goods/exportPrintPriceTagData",{data:t})},e.getElectronicScaleInformation=function(){return o.default.post("/scale/storeapi/scale/cashierscale")},e.getGoodsCategory=function(t){return o.default.post("/cashier/storeapi/goods/category",{data:t})},e.getGoodsDetail=function(t){return o.default.post("/cashier/storeapi/goods/detail",{data:{goods_id:t}})},e.getGoodsInfoByCode=function(t){return o.default.post("/cashier/storeapi/goods/skuinfo",{data:{sku_no:t}})},e.getGoodsList=function(t){return o.default.post("/cashier/storeapi/goods/page",{data:t})},e.getGoodsSceen=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post("/cashier/storeapi/goods/screen",{data:t})},e.getGoodsSkuList=function(t){return o.default.post("/cashier/storeapi/goods/skulist",{data:{goods_id:t}})},e.getManageGoodsCategory=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post("/stock/storeapi/manage/getGoodsCategory",{data:t})},e.getServiceCategory=function(t){return o.default.post("/cashier/storeapi/service/category",{data:t})},e.getServiceList=function(t){return o.default.post("/cashier/storeapi/service/page",{data:t})},e.getSkuListBySelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post("/cashier/storeapi/goods/getSkuListBySelect",{data:t})},e.getStocktransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post("/cashier/storeapi/goods/stocktransform",{data:t})},e.setGoodsLocalRestrictions=function(t){return o.default.post("/cashier/storeapi/goods/setGoodsLocalRestrictions",{data:t})},e.setGoodsStatus=function(t){return o.default.post("/cashier/storeapi/goods/setstatus",{data:t})};var o=i(a("9c15"))},"7df81":function(t,e,a){"use strict";(function(t){a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa"),a("aa9c"),a("bf0f"),a("2797"),a("4626"),a("5ac7"),a("fd3c"),a("aa77"),a("d4b5"),a("8f71"),a("c223");var i={name:"uniDataChecklist",mixins:[t.mixinDatacom||{}],emits:["input","update:modelValue","change"],props:{mode:{type:String,default:"default"},multiple:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return""}},modelValue:{type:[Array,String,Number],default:function(){return""}},localdata:{type:Array,default:function(){return[]}},min:{type:[Number,String],default:""},max:{type:[Number,String],default:""},wrap:{type:Boolean,default:!1},icon:{type:String,default:"left"},selectedColor:{type:String,default:""},selectedTextColor:{type:String,default:""},emptyText:{type:String,default:"暂无数据"},disabled:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},watch:{localdata:{handler:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},deep:!0},mixinDatacomResData:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},value:function(t){this.dataList=this.getDataList(t),this.is_reset||(this.is_reset=!1,this.formItem&&this.formItem.setValue(t))},modelValue:function(t){this.dataList=this.getDataList(t),this.is_reset||(this.is_reset=!1,this.formItem&&this.formItem.setValue(t))}},data:function(){return{dataList:[],range:[],contentText:{contentdown:"查看更多",contentrefresh:"加载中",contentnomore:"没有更多"},isLocal:!0,styles:{selectedColor:"$primary-color",selectedTextColor:"#666"},isTop:0}},computed:{dataValue:function(){return""===this.value?this.modelValue:(this.modelValue,this.value)}},created:function(){this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&(this.isTop=6,this.formItem.name&&(this.is_reset||(this.is_reset=!1,this.formItem.setValue(this.dataValue)),this.rename=this.formItem.name,this.form.inputChildrens.push(this))),this.localdata&&0!==this.localdata.length?(this.isLocal=!0,this.range=this.localdata,this.dataList=this.getDataList(this.getSelectedValue(this.range))):this.collection&&(this.isLocal=!1,this.loadData())},methods:{loadData:function(){var t=this;this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,0===t.mixinDatacomResData.length?(t.isLocal=!1,t.mixinDatacomErrorMessage=t.emptyText):t.isLocal=!0})).catch((function(e){t.mixinDatacomErrorMessage=e.message}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e},chagne:function(t){var e=this,a=t.detail.value,i={value:[],data:[]};if(this.multiple)this.range.forEach((function(t){a.includes(t[e.map.value]+"")&&(i.value.push(t[e.map.value]),i.data.push(t))}));else{var o=this.range.find((function(t){return t[e.map.value]+""===a}));o&&(i={value:o[this.map.value],data:o})}this.formItem&&this.formItem.setValue(i.value),this.$emit("input",i.value),this.$emit("update:modelValue",i.value),this.$emit("change",{detail:i}),this.multiple?this.dataList=this.getDataList(i.value,!0):this.dataList=this.getDataList(i.value)},getDataList:function(t){var e=this,a=JSON.parse(JSON.stringify(this.range)),i=[];return this.multiple&&(Array.isArray(t)||(t=[])),a.forEach((function(a,o){if(a.disabled=a.disable||a.disabled||!1,e.multiple)if(t.length>0){var n=t.find((function(t){return t===a[e.map.value]}));a.selected=void 0!==n}else a.selected=!1;else a.selected=t===a[e.map.value];i.push(a)})),this.setRange(i)},setRange:function(t){var e=this,a=t.filter((function(t){return t.selected})),i=Number(this.min)||0,o=Number(this.max)||"";return t.forEach((function(n,s){if(e.multiple){if(a.length<=i){var c=a.find((function(t){return t[e.map.value]===n[e.map.value]}));void 0!==c&&(n.disabled=!0)}if(a.length>=o&&""!==o){var r=a.find((function(t){return t[e.map.value]===n[e.map.value]}));void 0===r&&(n.disabled=!0)}}e.setStyles(n,s),t[s]=n})),t},setStyles:function(t,e){t.styleBackgroud=this.setStyleBackgroud(t),t.styleIcon=this.setStyleIcon(t),t.styleIconText=this.setStyleIconText(t),t.styleRightIcon=this.setStyleRightIcon(t)},getSelectedValue:function(t){var e=this;if(!this.multiple)return this.dataValue;var a=[];return t.forEach((function(t){t.selected&&a.push(t[e.map.value])})),this.dataValue&&this.dataValue.length>0?this.dataValue:a},setStyleBackgroud:function(t){var e={},a=this.selectedColor?this.selectedColor:"";"list"!==this.mode&&(e["border-color"]=t.selected?a:""),"tag"===this.mode&&(e["background-color"]=t.selected?a:"");var i="";for(var o in e)i+="".concat(o,":").concat(e[o],";");return i},setStyleIcon:function(t){var e={},a="",i=this.selectedColor?this.selectedColor:"#2979ff";for(var o in e["background-color"]=t.selected?i:"#fff",e["border-color"]=t.selected?i:"#DCDFE6",!t.selected&&t.disabled&&(e["background-color"]="#F2F6FC",e["border-color"]=t.selected?i:"#DCDFE6"),e)a+="".concat(o,":").concat(e[o],";");return a},setStyleIconText:function(t){var e={},a="",i=this.selectedColor?this.selectedColor:"#2979ff";for(var o in"tag"===this.mode?e.color=t.selected?this.selectedTextColor?this.selectedTextColor:"#fff":"#666":e.color=t.selected?this.selectedTextColor?this.selectedTextColor:i:"#666",!t.selected&&t.disabled&&(e.color="#999"),e)a+="".concat(o,":").concat(e[o],";");return a},setStyleRightIcon:function(t){var e={},a="";for(var i in"list"===this.mode&&(e["border-color"]=t.selected?this.styles.selectedColor:"#DCDFE6"),e)a+="".concat(i,":").concat(e[i],";");return a}}};e.default=i}).call(this,a("861b")["default"])},8471:function(t,e,a){var i=a("fee6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("967d").default;o("10ee6f40",i,!0,{sourceMap:!1,shadowMode:!1})},"913f":function(t,e,a){"use strict";var i=a("bc6e"),o=a.n(i);o.a},9505:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("unipopup",{ref:"couponCategoryPop",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"coupon-category-pop"},[a("v-uni-view",{staticClass:"header flex justify-between"},[a("v-uni-view",{staticClass:"title"},[t._v("选择分类")])],1),a("v-uni-view",{staticClass:"body",attrs:{"overflow-y":!0}},[a("v-uni-scroll-view",{staticClass:"tree",attrs:{"overflow-y":!0}},[a("DaTreeVue2",{ref:"DaTreeRef",attrs:{data:t.treeData,labelField:"category_name",valueField:"category_id",childrenField:"child_list",themeColors:"var(--primary-color)",expandChecked:!0,showCheckbox:!0,defaultCheckedKeys:t.defaultCheckedKeysValue},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.handleTreeChange.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"footer flex justify-end"},[a("v-uni-button",{staticClass:"confirm btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确认")]),a("v-uni-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.couponCategoryPop.close()}}},[t._v("取消")])],1)],1)],1)},o=[]},"9b07":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-app--showleftwindow + .uni-tabbar-bottom[data-v-c872e69c]{display:none}\r\n/* 收银台相关 */uni-text[data-v-c872e69c],\r\nuni-view[data-v-c872e69c]{font-size:.14rem}body[data-v-c872e69c]{min-width:1200px;overflow-x:unset!important;overflow-y:hidden;background:#f8f8f8}body[data-v-c872e69c]::-webkit-scrollbar{width:.06rem;height:.06rem}body[data-v-c872e69c]::-webkit-scrollbar-button{display:none}body[data-v-c872e69c]::-webkit-scrollbar-thumb{border-radius:.06rem;box-shadow:inset 0 0 .06rem rgba(45,43,43,.45);background-color:#ddd}body[data-v-c872e69c]::-webkit-scrollbar-track{background-color:initial}uni-radio[data-v-c872e69c]{-webkit-transform:scale(.8);transform:scale(.8)}uni-checkbox[data-v-c872e69c]{-webkit-transform:scale(.8);transform:scale(.8)}uni-modal .uni-modal__btn_primary[data-v-c872e69c]{color:var(--primary-color)!important}@font-face{font-family:da-tree-iconfont;\r\n  /* Project id  */src:url("data:application/octet-stream;base64,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") format("truetype")}.da-tree[data-v-c872e69c]{width:100%;height:100%}.da-tree-scroll[data-v-c872e69c]{width:100%;height:100%}.da-tree-item[data-v-c872e69c]{display:flex;align-items:center;height:0;padding:0;overflow:hidden;font-size:.14rem;line-height:1;visibility:hidden;opacity:0;transition:opacity .2s linear}.da-tree-item.is-show[data-v-c872e69c]{height:auto;padding:.06rem .12rem;visibility:visible;opacity:1}.da-tree-item__icon[data-v-c872e69c]{display:flex;align-items:center;justify-content:center;width:.2rem;height:.2rem;overflow:hidden}.da-tree-item__icon--arr[data-v-c872e69c]{position:relative;display:flex;align-items:center;justify-content:center;width:.16rem;height:.16rem}.da-tree-item__icon--arr[data-v-c872e69c]::after{position:relative;z-index:1;overflow:hidden;\r\n  /* stylelint-disable-next-line font-family-no-missing-generic-family-keyword */font-family:da-tree-iconfont!important;font-size:.16rem;font-style:normal;color:#999;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.da-tree-item__icon--arr.is-expand[data-v-c872e69c]::after{content:"\\e604"}.da-tree-item__icon--arr.is-right[data-v-c872e69c]{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.da-tree-item__icon--arr.is-loading[data-v-c872e69c]{-webkit-animation:IconLoading-data-v-c872e69c 1s linear 0s infinite;animation:IconLoading-data-v-c872e69c 1s linear 0s infinite}.da-tree-item__icon--arr.is-loading[data-v-c872e69c]::after{content:"\\e7f1"}.da-tree-item__checkbox[data-v-c872e69c]{width:.2rem;height:.2rem;overflow:hidden}.da-tree-item__checkbox--left[data-v-c872e69c]{order:0}.da-tree-item__checkbox--right[data-v-c872e69c]{order:1}.da-tree-item__checkbox--icon[data-v-c872e69c]{position:relative;display:flex;align-items:center;justify-content:center;width:.2rem;height:.2rem}.da-tree-item__checkbox--icon[data-v-c872e69c]::after{position:relative;top:0;left:0;z-index:1;overflow:hidden;\r\n  /* stylelint-disable-next-line font-family-no-missing-generic-family-keyword */font-family:da-tree-iconfont!important;font-size:.16rem;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.da-tree-item__checkbox--icon.da-tree-checkbox-outline[data-v-c872e69c]::after{color:#bbb;content:"\\ead5"}.da-tree-item__checkbox--icon.da-tree-checkbox-checked[data-v-c872e69c]::after{color:var(--theme-color,#007aff);content:"\\ead4"}.da-tree-item__checkbox--icon.da-tree-checkbox-indeterminate[data-v-c872e69c]::after{color:var(--theme-color,#007aff);content:"\\ebce"}.da-tree-item__checkbox--icon.da-tree-radio-outline[data-v-c872e69c]::after{color:#bbb;content:"\\ecc5"}.da-tree-item__checkbox--icon.da-tree-radio-checked[data-v-c872e69c]::after{color:var(--theme-color,#007aff);content:"\\ecc4"}.da-tree-item__checkbox--icon.da-tree-radio-indeterminate[data-v-c872e69c]::after{color:var(--theme-color,#007aff);content:"\\ea4f"}.da-tree-item__checkbox.is--disabled[data-v-c872e69c]{cursor:not-allowed;opacity:.35}.da-tree-item__label[data-v-c872e69c]{flex:1;margin-left:.04rem;color:#555}.da-tree-item__label--2[data-v-c872e69c]{color:var(--theme-color,#007aff)}.da-tree-item__label--append[data-v-c872e69c]{font-size:60%;opacity:.6}@-webkit-keyframes IconLoading-data-v-c872e69c{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes IconLoading-data-v-c872e69c{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=e},"9fa7":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("ff0d")),n=(i(a("00b7")),{mixins:[o.default]});e.default=n},"9fb1":function(t,e,a){"use strict";a.r(e);var i=a("337b"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},a20d:function(t,e,a){var i=a("9b07");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("967d").default;o("33c63b12",i,!0,{sourceMap:!1,shadowMode:!1})},a470:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.addCoupon=function(t){return o.default.post("/coupon/storeapi/coupon/add",{data:t})},e.closeCoupon=function(t){return o.default.post("/coupon/storeapi/coupon/close",{data:{coupon_type_id:t}})},e.deleteCoupon=function(t){return o.default.post("/coupon/storeapi/coupon/delete",{data:{coupon_type_id:t}})},e.editCoupon=function(t){return o.default.post("/coupon/storeapi/coupon/edit",{data:t})},e.getCouponDetail=function(t){return o.default.post("/coupon/storeapi/coupon/detail",{data:{coupon_type_id:t}})},e.getReceiveCouponPageList=function(t){return o.default.post("/coupon/storeapi/membercoupon/getReceiveCouponPageList",{data:{coupon_type_id:t}})};var o=i(a("9c15"))},aab1:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("db26")),n=i(a("07c9")),s=i(a("5adf")),c={components:{DaTreeVue2:o.default,unipopup:n.default},mixins:[s.default]};e.default=c},b18f:function(t,e,a){"use strict";a.r(e);var i=a("7343"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},b2ef:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=function t(e){var a,i=Object.prototype.toString.call(e);if("[object Array]"===i){a=[];for(var o=0;o<e.length;o++)a.push(t(e[o]))}else if("[object Object]"===i)for(var n in a={},e)e.hasOwnProperty(n)&&(a[n]=t(e[n]));else a=e;return a},e.getAllNodeKeys=function(t,e,a){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t||0===t.length)return null;for(var o=[],n=0;n<t.length;n++){var s=t[n];s[e]===a&&(i&&s.disabled||!s.disabled)&&o.push(s.key)}return o.length?o:null},e.getAllNodes=function(t,e,a){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t||0===t.length)return[];for(var o=[],n=0;n<t.length;n++){var s=t[n];s[e]===a&&(i&&s.disabled||!s.disabled)&&o.push(s)}return o},e.halfCheckedStatus=void 0,e.is=o,e.isArray=function(t){return t&&Array.isArray(t)},e.isBoolean=function(t){return o(t,"Boolean")},e.isCheckedStatus=void 0,e.isFunction=function(t){return"function"===typeof t},e.isNumber=function(t){return o(t,"Number")},e.isObject=function(t){return null!==t&&o(t,"Object")},e.isString=function(t){return o(t,"String")},e.logError=function(t){for(var e,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];(e=console).error.apply(e,["DaTree: ".concat(t)].concat(i))},e.unCheckedStatus=void 0,a("bf0f"),a("aa9c"),a("c223");e.unCheckedStatus=0;e.halfCheckedStatus=1;e.isCheckedStatus=2;var i=Object.prototype.toString;function o(t,e){return i.call(t)==="[object ".concat(e,"]")}},bc6e:function(t,e,a){var i=a("050a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("967d").default;o("743563fe",i,!0,{sourceMap:!1,shadowMode:!1})},cbe5:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-data-checklist",style:{"margin-top":t.isTop+"px"}},[[t.multiple?a("v-uni-checkbox-group",{staticClass:"checklist-group",class:{"is-list":"list"===t.mode||t.wrap},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.chagne.apply(void 0,arguments)}}},t._l(t.dataList,(function(e,i){return a("v-uni-label",{key:i,staticClass:"checklist-box",class:["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==i&&"list"===t.mode?"is-list-border":""],style:e.styleBackgroud},[a("v-uni-checkbox",{staticClass:"hidden",attrs:{hidden:!0,disabled:t.disabled||!!e.disabled,value:e[t.map.value]+"",checked:e.selected}}),"tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon?a("v-uni-view",{staticClass:"checkbox__inner",style:e.styleIcon},[a("v-uni-view",{staticClass:"checkbox__inner-icon"})],1):t._e(),a("v-uni-view",{staticClass:"checklist-content",class:{"list-content":"list"===t.mode&&"left"===t.icon}},[a("v-uni-text",{staticClass:"checklist-text",style:e.styleIconText},[t._v(t._s(e[t.map.text]))]),"list"===t.mode&&"right"===t.icon?a("v-uni-view",{staticClass:"checkobx__list",style:e.styleBackgroud}):t._e()],1)],1)})),1):a("v-uni-radio-group",{staticClass:"checklist-group",class:{"is-list":"list"===t.mode,"is-wrap":t.wrap},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.chagne.apply(void 0,arguments)}}},t._l(t.dataList,(function(e,i){return a("v-uni-label",{key:i,staticClass:"checklist-box",class:["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==i&&"list"===t.mode?"is-list-border":""],style:e.styleBackgroud},[a("v-uni-radio",{staticClass:"hidden",attrs:{hidden:!0,disabled:t.disabled||e.disabled,value:e[t.map.value]+"",checked:e.selected}}),"tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon?a("v-uni-view",{staticClass:"radio__inner",style:e.styleBackgroud},[a("v-uni-view",{staticClass:"radio__inner-icon",style:e.styleIcon})],1):t._e(),a("v-uni-view",{staticClass:"checklist-content",class:{"list-content":"list"===t.mode&&"left"===t.icon}},[a("v-uni-text",{staticClass:"checklist-text",style:e.styleIconText},[t._v(t._s(e[t.map.text]))]),"list"===t.mode&&"right"===t.icon?a("v-uni-view",{staticClass:"checkobx__list",style:e.styleRightIcon}):t._e()],1)],1)})),1)]],2)},o=[]},cf79:function(t,e,a){var i=a("3e36");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("967d").default;o("34af1bf7",i,!0,{sourceMap:!1,shadowMode:!1})},d9a8:function(t,e,a){"use strict";a.r(e);var i=a("2e39"),o=a("b18f");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("913f");var s=a("828b"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"50b820f6",null,!1,i["a"],void 0);e["default"]=c.exports},db26:function(t,e,a){"use strict";a.r(e);var i=a("fbe9"),o=a("9fb1");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("0ee5");var s=a("828b"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"c872e69c",null,!1,i["a"],void 0);e["default"]=c.exports},f1b1:function(t,e,a){"use strict";a.r(e);var i=a("aab1"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},f3f7:function(t,e,a){"use strict";a("53f7")},f9ea:function(t,e,a){"use strict";a.r(e);var i=a("9fa7"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},fbe9:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"da-tree",style:{"--theme-color":t.themeColors}},[a("v-uni-scroll-view",{staticClass:"da-tree-scroll",attrs:{"scroll-y":!0,"scroll-x":!1}},t._l(t.datalist,(function(e){return a("v-uni-view",{key:e.key,staticClass:"da-tree-item",class:{"is-show":e.show},style:{paddingLeft:e.level*t.indent+"rem"}},[e.showArrow?a("v-uni-view",{staticClass:"da-tree-item__icon",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleExpandedChange(e)}}},[t.loadLoading&&e.loading?a("v-uni-view",{class:["da-tree-item__icon--arr","is-loading"]}):a("v-uni-view",{class:["da-tree-item__icon--arr","is-expand",{"is-right":!e.expand}]})],1):a("v-uni-view",{staticClass:"da-tree-item__icon"}),t.showCheckbox?a("v-uni-view",{staticClass:"da-tree-item__checkbox",class:["da-tree-item__checkbox--"+t.checkboxPlacement,{"is--disabled":e.disabled}],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleCheckChange(e)}}},[e.checkedStatus===t.isCheckedStatus?a("v-uni-view",{staticClass:"da-tree-item__checkbox--icon da-tree-checkbox-checked"}):e.checkedStatus===t.halfCheckedStatus?a("v-uni-view",{staticClass:"da-tree-item__checkbox--icon da-tree-checkbox-indeterminate"}):a("v-uni-view",{staticClass:"da-tree-item__checkbox--icon da-tree-checkbox-outline"})],1):t._e(),!t.showCheckbox&&t.showRadioIcon?a("v-uni-view",{staticClass:"da-tree-item__checkbox",class:["da-tree-item__checkbox--"+t.checkboxPlacement,{"is--disabled":e.disabled}],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleRadioChange(e)}}},[e.checkedStatus===t.isCheckedStatus?a("v-uni-view",{staticClass:"da-tree-item__checkbox--icon da-tree-radio-checked"}):e.checkedStatus===t.halfCheckedStatus?a("v-uni-view",{staticClass:"da-tree-item__checkbox--icon da-tree-radio-indeterminate"}):a("v-uni-view",{staticClass:"da-tree-item__checkbox--icon da-tree-radio-outline"})],1):t._e(),a("v-uni-view",{staticClass:"da-tree-item__label",class:"da-tree-item__label--"+e.checkedStatus,on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleLabelClick(e)}}},[t._v(t._s(e.label)),e.append?a("v-uni-text",{staticClass:"da-tree-item__label--append"},[t._v(t._s(e.append))]):t._e()],1)],1)})),1)],1)},o=[]},fee6:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-app--showleftwindow + .uni-tabbar-bottom[data-v-0869d699]{display:none}\r\n/* 收银台相关 */uni-text[data-v-0869d699],\r\nuni-view[data-v-0869d699]{font-size:.14rem}body[data-v-0869d699]{min-width:1200px;overflow-x:unset!important;overflow-y:hidden;background:#f8f8f8}body[data-v-0869d699]::-webkit-scrollbar{width:.06rem;height:.06rem}body[data-v-0869d699]::-webkit-scrollbar-button{display:none}body[data-v-0869d699]::-webkit-scrollbar-thumb{border-radius:.06rem;box-shadow:inset 0 0 .06rem rgba(45,43,43,.45);background-color:#ddd}body[data-v-0869d699]::-webkit-scrollbar-track{background-color:initial}uni-radio[data-v-0869d699]{-webkit-transform:scale(.8);transform:scale(.8)}uni-checkbox[data-v-0869d699]{-webkit-transform:scale(.8);transform:scale(.8)}uni-modal .uni-modal__btn_primary[data-v-0869d699]{color:var(--primary-color)!important}.coupon-category-pop[data-v-0869d699]{width:7rem;background-color:#fff;border-radius:.06rem}.coupon-category-pop .header[data-v-0869d699]{padding:.15rem .2rem;font-size:.14rem;border-bottom:.01rem solid #e6e6e6}.coupon-category-pop .body[data-v-0869d699]{padding:.2rem .3rem;padding-bottom:.15rem;box-sizing:border-box;height:4rem}.coupon-category-pop .body .tree[data-v-0869d699]{height:100%}.coupon-category-pop .footer[data-v-0869d699]{padding:0 .3rem;padding-bottom:.15rem}.coupon-category-pop .footer .btn[data-v-0869d699]{margin:0;display:inline-block;padding:0 .2rem;height:.36rem;line-height:.36rem;font-size:.14rem;border-radius:3px}.coupon-category-pop .footer .btn.confirm[data-v-0869d699]{background-color:var(--primary-color);color:#fff;margin-right:.15rem}.coupon-category-pop .footer .btn.confirm[data-v-0869d699]::after{border-width:0}',""]),t.exports=e},ff0d:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("bf0f"),a("2797"),a("dc8a"),a("fd3c"),a("4626"),a("5ac7"),a("aa9c"),a("dd2b"),a("5ef2"),a("e838"),a("5c47"),a("0506"),a("e966");var i=a("a470"),o={data:function(){return{couponsData:{coupon_type_id:"",coupon_name:"",type:"reward",money:"",discount:"",discount_limit:"",at_least:"",is_show:1,count:"",max_fetch:"",image:"",validity_type:0,end_time:this.$util.timeFormat(Date.parse(new Date)/1e3+864e3),fixed_term:0,goods_type:1,goods_ids:"",goods_ids_real:"",goods_list:[],goods_names:"",use_channel:"all"},flag:!1,goods_ids:[],typeList:[{value:"reward",text:"满减"},{value:"discount",text:"折扣"}],validityTypeList:[{value:0,text:"固定时间"},{value:1,text:"领取之日起"},{value:2,text:"长期有效"}],goodsTypeList:[{value:1,text:"全部商品参与"},{value:2,text:"指定商品参与"},{value:3,text:"指定商品不参与"},{value:4,text:"指定分类参与"},{value:5,text:"指定分类不参与"}],useChannelList:[{value:"all",text:"线上线下使用"},{value:"online",text:"线上使用"},{value:"offline",text:"线下使用"}],dialogVisible:!1}},onLoad:function(t){t.coupon_type_id&&(this.couponsData.coupon_type_id=t.coupon_type_id,this.getData(t.coupon_type_id))},watch:{"couponsData.validity_type":function(t){0===t&&(this.couponsData.end_time=this.$util.timeFormat(Date.parse(new Date)/1e3+864e3))}},methods:{getData:function(t){var e=this;(0,i.getCouponDetail)(t).then((function(t){var a=t.data;t.code>=0&&a&&Object.keys(e.couponsData).forEach((function(t){e.couponsData[t]=a.info[t],"end_time"==t&&(e.couponsData[t]=e.couponsData.end_time=e.$util.timeFormat(Date.parse(new Date(a.info[t]))))})),e.goods_ids=e.couponsData.goods_list.map((function(t){return t.goods_id})),e.couponsData.goods_ids=e.goods_ids.join()}))},addImg:function(){var t=this;this.$util.upload(1,{path:"image"},(function(e){e.length>0&&(t.couponsData.image=e[0],t.$forceUpdate())}))},checkIsShow:function(t){this.couponsData.is_show=t.detail.value?1:0},changeTime:function(t){this.couponsData.end_time=t},selectGoods:function(t){var e=this;t.forEach((function(t){e.goods_ids.includes(t.goods_id)||(e.goods_ids.push(t.goods_id),e.couponsData.goods_list.push(t))}))},delGoods:function(t){this.couponsData.goods_list.splice(this.goods_ids.indexOf(t),1),this.goods_ids.splice(this.goods_ids.indexOf(t),1)},checkData:function(){var t=this,e={days:function(e){return 1==t.couponsData.validity_type?e%1!=0?"请输入整数":e<=0?"有效天数不能小于等于0":"":""},number:function(t){return t<0?"请输入不小于0的数!":""},coupon_money:function(t){return parseFloat(t)>1e4?"优惠券面额不能大于10000":parseFloat(t)<=0?"优惠券面额不能小于0":""},int:function(t){return t%1!=0?"最多优惠,请输入整数!":t<0?"最多优惠,请输入大于0的数!":""},money:function(t){if(t<0)return"金额不能小于0";var e=t.split("."),a=0;return 2==e.length&&(a=e[1]),a.length>2?"保留小数点后两位":""},time:function(e){if(0==t.couponsData.validity_type){var a=(new Date).getTime(),i=new Date(e).getTime();return a>i?"结束时间不能小于当前时间!":""}return""},max:function(e){return/[\S]+/.test(e)?-1!=t.couponsData.count&&parseFloat(e)>parseFloat(t.couponsData.count)?"最大领取数量不能超过发放数量!":"":"请输入最大领取数量"},fl:function(t,e){if(e=e.substring(0,e.length-1),t<1)return e+"不能小于1折";if(t>9.9)return e+"不能大于9.9折";var a=t.split("."),i=0;return 2==a.length&&(i=a[1]),i.length>2?e+"最多可保留两位小数":""},count:function(t){return/[\S]+/.test(t)?t%1!=0?"请输入整数":0==t?"发放数量不能为0":-1!=t&&parseInt(t)<parseInt("{$coupon_type_info.count}")?"发放数量不能小于原发放数量!":"":"请输入发放数量"}};if(!this.couponsData.coupon_name)return this.$util.showToast({title:"请输入优惠券名称"}),!1;if(!this.couponsData.type)return this.$util.showToast({title:"请选择优惠券类型"}),!1;if("reward"===this.couponsData.type){if(!this.couponsData.money)return this.$util.showToast({title:"请输入优惠券面额"}),!1;if(e.number(this.couponsData.money)||e.money(this.couponsData.money)||e.coupon_money(this.couponsData.money))return this.$util.showToast({title:e.number(this.couponsData.money)||e.money(this.couponsData.money)||e.coupon_money(this.couponsData.money)}),!1}else{if(!this.couponsData.discount)return this.$util.showToast({title:"请输入优惠券折扣"}),!1;if(e.fl(this.couponsData.discount,"优惠券折扣"))return this.$util.showToast({title:e.fl(this.couponsData.discount,"优惠券折扣")}),!1}if(this.couponsData.discount_limit&&(e.number(this.couponsData.discount_limit)||e.int(this.couponsData.discount_limit)))return this.$util.showToast({title:e.number(this.couponsData.discount_limit)||e.int(this.couponsData.discount_limit)}),!1;if(!this.couponsData.at_least)return this.$util.showToast({title:"请输入满多少元可以使用"}),!1;if(e.number(this.couponsData.at_least)||e.money(this.couponsData.at_least))return this.$util.showToast({title:e.number(this.couponsData.at_least)||e.money(this.couponsData.at_least)}),!1;if(1===this.couponsData.is_show){if(e.count(this.couponsData.count))return this.$util.showToast({title:e.count(this.couponsData.count)}),!1;if(e.max(this.couponsData.max_fetch))return this.$util.showToast({title:e.max(this.couponsData.max_fetch)}),!1}return e.time(this.couponsData.end_time)?(this.$util.showToast({title:e.time(this.couponsData.end_time)}),!1):e.days(this.couponsData.fixed_term)?(this.$util.showToast({title:e.days(this.couponsData.fixed_term)}),!1):2!=this.couponsData.goods_type&&3!=this.couponsData.goods_type||this.goods_ids.length?!!(4!=this.couponsData.goods_type&&5!=this.couponsData.goods_type||this.goods_ids.length)||(this.$util.showToast({title:"请选择商品分类"}),!1):(this.$util.showToast({title:"请选择活动商品"}),!1)},goodsType:function(){this.couponsData.goods_ids="",this.couponsData.goods_ids_real="",this.goods_ids=[],this.couponsData.goods_names=""},goodsCategoryConfirm:function(t){this.goods_ids=t.id_arr,this.couponsData.goods_names=t.name_arr.join("、")},saveFn:function(){var t=this;if(this.checkData(this.couponsData)){if(this.flag)return!1;this.flag=!0,1!=this.couponsData.goods_type&&(this.couponsData.goods_ids=this.goods_ids.join());var e=this.couponsData.coupon_type_id?i.editCoupon:i.addCoupon;e(this.couponsData).then((function(e){t.flag=!1,t.$util.showToast({title:e.message}),e.code>=0&&setTimeout((function(){t.backFn()}),500)}))}},backFn:function(){this.$util.redirectTo("/pages/marketing/coupon_list")}}};e.default=o}}]);